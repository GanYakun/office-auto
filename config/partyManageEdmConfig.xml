<ofbiz-edm xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://dev.odatalab.com/dtds/edmconfig.xsd" ImportGlobal="false">

    <EntityType Name="SupplierParty" OfbizEntity="Party" EntitySetName="SupplierParties" AutoSet="true" AutoProperties="true" AttrDateEntityName="PartyAttributeDate"
                EntityCondition="PartyRole/roleTypeId=SUPPLIER" DraftEntityName="PartySupplierPartyDraft" AutoLabel="true" SearchOption="partyName,PartyAndContact/primaryEmail,PartyAndContact/address1"
                Handler="component://bf-demo/groovyScripts/partyManage/supplierParty/generateEntityListFields.groovy">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextFirst"/>
        </Property>
        <Property Name="firstOrderDate" Type="Timestamp" IsDateAttribute="true"/>
        <Property Name="collectionDate" Type="Timestamp" IsDateAttribute="true"/>
        <Property Name="totalAmount" Type="BigDecimal" Label="订单总金额" Scale="3"/>
        <Property Name="criticalityValue" Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="statusId" Immutable="true" DefaultValue="PARTY_ENABLED">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="PartyStatusItems" WithFixedValues="true"/>
        </Property>
        <Property Name="usccNumber" Type="String" HiddenFilter="true"/>
        <RelAlias Name="PartyGroup" Relations="PartyGroup"/>
        <Property Name="logoImageUrl" IsImageURL="true" RelAlias="PartyGroup" Field="logoImageUrl"/>
        <RelAlias Name="PartyAndContact" Relations="FromPartyRelationship(roleTypeIdTo=CONTACT and roleTypeIdFrom=SUPPLIER)/PartyAndContact"/>
        <Property Name="partyNamePrimary" RelAlias="PartyAndContact" Field="partyName" Computed="true"/>
        <Property Name="phoneMobilePrimary" RelAlias="PartyAndContact" Field="phoneMobile" Computed="true"/>
        <Property Name="phonePrimary" RelAlias="PartyAndContact" Field="primaryPhone" Computed="true"/>
        <Property Name="emailPrimary" RelAlias="PartyAndContact" Field="primaryEmail" Computed="true"/>
        <NavigationProperty Name="Person"/>
        <NavigationProperty Name="PartyGroup" IsCollection="false"/>
        <NavigationProperty Name="PartyRole" IsCollection="false"/>
        <NavigationProperty Name="SupplierProduct"/>
        <NavigationProperty Name="UserLogin" IsCollection="false"/>
        <NavigationProperty Name="ToShipment"/>
        <NavigationProperty Name="FromShipment"/>
        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="OwnerFinAccount" Type="FinAccount" IsCollection="true"
                            Relations="OwnerFinAccount(finAccountTypeId=BANK_ACCOUNT)" />
        <NavigationProperty Name="SupplierPartyAndContact" Relations="PartyAndContact" Type="SupplierPartyAndContact"/>
        <NavigationProperty Name="PartyAndContact" Relations="FromPartyRelationship(roleTypeIdTo=CONTACT and roleTypeIdFrom=SUPPLIER)/PartyAndContact" Type="PartyAndContact" IsCollection="true"/>
        <NavigationProperty Name="UserLoginSecurityGroup"
                            Relations="UserLogin/UserLoginSecurityGroup" Type="UserLoginSecurityGroup" HandlerNode="UserLogin/UserLoginSecurityGroup" IsCollection="true"/>
        <NavigationProperty Name="PurchaseAgreement" Type="PurchaseAgreement" Relations="ToAgreement"/>
        <NavigationProperty Name="NoteData" Type="NoteData" Relations="PartyNote/NoteData" IsCollection="true"/>
        <NavigationProperty Name="PurchaseOrder" Type="PurchaseOrder" Relations="OrderRole(roleTypeId=BILL_FROM_VENDOR)/OrderHeader" IsCollection="true"/>
        <NavigationProperty Name="Invoice"/>
        <NavigationProperty Name="PurchaseQuote" Type="PurchaseQuote" Relations="Quote"/>
        <NavigationProperty Name="AfterSalesService" Type="AfterSalesService" Relations="WorkEffortPartyAssignment(roleTypeId=SUPPLIER)/WorkEffort" IsCollection="true"/>
        <NavigationProperty Name="PartyClassificationGroup" Type="PartyClassificationGroup" Relations="PartyClassification/PartyClassificationGroup" IsCollection="true"/>
        <SelectionFields PropertyPath="statusId,SupplierPartyAndContact/primaryPhone"/>


<!--        <FieldGroup Qualifier="PartyBaseInfo" Label="基本信息">-->
<!--            <DataField Values="SupplierPartyAndContact/primaryEmail,SupplierPartyAndContact/address1,SupplierPartyAndContact/primaryPhone" Importance="High"/>-->
<!--        </FieldGroup>-->

        <FieldGroup Qualifier="IdentificationCode" Label="IdentificationCode">
            <DataField Values="usccNumber" Importance="High"/>
        </FieldGroup>

        <HeaderInfo TypeName="供应商" TypeNamePlural="供应商列表" ImageUrl="logoImageUrl">
            <Title Path="partyId"/>
            <Description Path="description"/>
        </HeaderInfo>

        <Action Name="SupplierNewAction" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.common.events.PartyEvents.newSupplier"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="true" />
            <Parameter Name="partyName" Type="String" Nullable="false" />
            <ReturnType Type="SupplierParty" />
        </Action>

        <Action Name="SupplierPartyEditAction" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionEditAction"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <ReturnType Type="SupplierParty"/>
        </Action>

        <Action Name="SupplierPartySaveAction" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionSaveAction"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false" />
            <ReturnType Type="SupplierParty" />
        </Action>

        <Action Name="SupplierPartyDeleteAction" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionDeleteAction"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <ReturnType Type="SupplierParty"/>
        </Action>
        <Action Name="ChangeSupplierStatusToEnable" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.bfdemo.events.ShipmentEvents.changeSupplierStatusToEnable"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <ReturnType Type="SupplierParty"/>
        </Action>
    </EntityType>

    <EntityType Name="PurchaseQuote" OfbizEntity="Quote" EntityCondition="quoteTypeId=PURCHASE_QUOTE" EntitySetName="PurchaseQuotes" AutoProperties="true" AutoSet="true"
                Handler="component://bf-demo/groovyScripts/marketingSalesService/quote/generateEntityListFields.groovy">
        <LineItem>
            <DataField Values="quoteId,quoteName,partyId,custRequestId,salesChannelEnumId" Importance="High"/>
            <DataField Values="statusId" Criticality="statusColor" Importance="High"/>
            <Criticality Value="statusColor"/>
        </LineItem>

        <HeaderInfo TypeName="报价" TypeNamePlural="报价列表">
            <Title Path="quoteId"/>
            <Description Path="quoteName"/>
        </HeaderInfo>

        <FieldGroup Label="BaseInfo" Qualifier="BaseInfo">
            <DataField Values="partyId,salesChannelEnumId,custRequestId" Importance="High"/>
        </FieldGroup>

        <Property Name="partyId" ExcludeFromNavigationContext="true"/>

        <SelectionFields PropertyPath="quoteId,partyId,statusId"/>

        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyId">
            <Text Path="SupplierParty/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="SupplierParties"/>
        </Property>
        <Property Name="statusColor"  Type="numeric" Hidden="true" HiddenFilter="true"/>

        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="SalesChannelEnumeration"/>
        <NavigationProperty Name="SupplierParty" Type="SupplierParty" Relations="Party"/>
    </EntityType>
    
    <EntityType Name="PartyClassification" AutoSet="true" AutoProperties="true" EntitySetName="PartyClassIdentifications">
        <NavigationProperty Name="PartyClassificationGroup"/>
    </EntityType>

    <EntityType Name="AfterSalesService" OfbizEntity="WorkEffort" EntityCondition="workEffortTypeId=AFTER_SALES" AutoProperties="true" EntitySetName="AfterSalesServices">
        <LineItem Qualifier="AfterSalesServiceLine">
            <DataField Values="workEffortId,workEffortName,actualCompletionDate,fixedAssetId,description" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="FixedAsset"/>
        <Property Name="fixedAssetId">
            <Text Path="FixedAsset/fixedAssetName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="FixedAsset" EntitySetName="FixedAssets" AutoProperties="true" AutoSet="true"/>


    <EntityType Name="PartyClassificationGroup" AutoSet="true" AutoProperties="true" EntitySetName="PartyClassificationGroups"
                Handler="component://bf-demo/groovyScripts/partyManage/partyClassificationGroup/statusControl.groovy">
        <NavigationProperty Name="PartyClassificationType"/>
        <LineItem Qualifier="PartyClassificationGroupLineItem">
            <DataField Values="partyClassificationTypeId" Importance="High"/>
            <DataField Values="description" Importance="High" Criticality="statusColor"/>
            <Criticality Value="statusColor"/>
        </LineItem>
        <Property Name="partyClassificationTypeId">
            <Text Path="PartyClassificationType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusColor" Type="numeric" Hidden="true" HiddenFilter="true"/>
    </EntityType>

    <EntityType Name="PartyClassificationType" AutoSet="true" AutoProperties="true" EntitySetName="PartyClassificationTypes">
        <Property Name="partyClassificationTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="Invoice" EntitySetName="Invoices" AutoSet="true" AutoProperties="true" Handler="component://bf-demo/groovyScripts/invoiceManage/invoiceHeader/generateEntityListFields.groovy">
        <Property Name="statusColor"  Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="invoiceTypeId">
            <Text Path="InvoiceType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyIdFrom">
            <Text Path="FromParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="InvoiceType" AutoBinding="true"/>
        <NavigationProperty Name="StatusItem" AutoBinding="true"  />
        <NavigationProperty Name="Party" AutoBinding="true" />
        <NavigationProperty Name="FromParty" AutoBinding="true"/>
    </EntityType>

    <EntityType Name="InvoiceType" AutoProperties="true" AutoSet="true" EntitySetName="InvoiceTypes"/>

    <EntityType Name="NoteData" EntitySetName="NoteData" DraftEntityName="PartyNoteDataAppDraft" AutoSet="true" AutoProperties="true">
        <LineItem Qualifier="NoteDataLineItem">
            <DataField Values="noteName,noteInfo,noteParty,noteDateTime,moreInfoUrl" Importance="High"/>
        </LineItem>
    </EntityType>

    <EntityType Name="PurchaseAgreement" DraftEntityName="PurchaseAgreementPartyAppDraft" EntitySetName="PurchaseAgreements" AutoSet="true" EntityCondition="agreementTypeId=PURCHASE_AGREEMENT" AutoProperties="true" OfbizEntity="Agreement"
    >
        <LineItem Qualifier="PurchaseAgreementLineItem">
            <DataField Values="agreementId,productId,partyIdFrom,description,agreementDate,fromDate,thruDate" Importance="High"/>
        </LineItem>

        <SelectionFields PropertyPath="productId,partyIdFrom,partyIdTo"/>

        <HeaderInfo TypeName="合同" TypeNamePlural="合同列表">
            <Title Path="agreementId"/>
            <Description Path="description"/>
        </HeaderInfo>

        <FieldGroup Qualifier="BaseInfo" Label="BaseInfo">
            <DataField Values="productId,partyIdFrom" Importance="High"/>
        </FieldGroup>

        <FieldGroup Qualifier="AgreementTime" Label="AgreementTime">
            <DataField Values="agreementDate,fromDate,thruDate" Importance="High"/>
        </FieldGroup>

        <Property Name="partyIdFrom">
            <Text Path="Company/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="Companies" ParameterDisplayOnly="PartyAndContact/primaryPhone"/>
        </Property>

        <Property Name="partyIdTo">
            <Text Path="Supplier/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="Suppliers" ParameterDisplayOnly="PartyAndContact/primaryPhone"/>
        </Property>

        <Property Name="productId">
            <Text Path="Product/productName" TextArrangement="TextOnly"/>
        </Property>

        <NavigationProperty Name="AgreementItem"/>
        <NavigationProperty Name="Product"/>
        <NavigationProperty Name="SupplierParty" Type="SupplierParty" Relations="ToParty"/>
        <NavigationProperty Name="Company" Type="Company" Relations="FromParty"/>
        <NavigationProperty Name="AgreementTerm"/>
    </EntityType>

    <EntityType Name="PurchaseOrder" OfbizEntity="OrderHeader" EntityCondition="orderTypeId=PURCHASE_ORDER" AutoProperties="true" AutoSet="true" EntitySetName="PurchaseOrders"
                Handler="component://bf-demo/groovyScripts/purchaseOrderMange/OrderHeader/generateEntityListFields.groovy">
        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="SalesChannelEnumeration"/>

        <Property Name="orderHeaderStatus" Type="Edm.Int64"/>
        <Property Name="amountPaid" Type="BigDecimal" Scale="3" />
        <Property Name="receivedQuantity" Type="BigDecimal" Scale="2"/>
        <Property Name="targetQuantity" Type="BigDecimal" Scale="2"/>
        <Property Name="donutChartCriticalValue" Type="Edm.Int64"/>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="AgreementItem" EntitySetName="AgreementItems" AutoSet="true" AutoProperties="true">
        <LineItem Qualifier="AgreementItemLineItem">
            <DataField Values="agreementItemSeqId,currencyUomId,agreementText,agreementImage" Importance="High"/>
        </LineItem>
    </EntityType>

    <EntityType Name="AgreementTerm" EntitySetName="AgreementTerms" AutoSet="true" AutoProperties="true">
        <LineItem Qualifier="AgreementTermLineItem">
            <DataField Values="agreementTermId,agreementItemSeqId,termTypeId,termValue,termDays,maxQuantity,minQuantity,description,fromDate,thruDate" Importance="High"/>
        </LineItem>

        <Property Name="termTypeId">
            <Text Path="TermType/description" TextArrangement="TextOnly"/>
        </Property>

        <NavigationProperty Name="TermType"/>
    </EntityType>

    <EntityType Name="TermType" AutoProperties="true" AutoSet="true" EntitySetName="TermTypes">
        <Property Name="termTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="Company" OfbizEntity="Party" AutoProperties="true" EntityCondition="PartyRole/roleTypeId=INTERNAL_ORGANIZATIO" EntitySetName="Companies" AutoSet="true">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="PartyAndContact"/>
        <NavigationProperty Name="PartyGroup"/>
    </EntityType>

    <EntityType Name="CustomerParty" OfbizEntity="Party" AutoSet="true" EntitySetName="CustomerParties" EntityCondition="PartyRole/roleTypeId=CUSTOMER" DraftEntityName="PartyCustomerPartyDraft"
                Properties="partyId,partyName,description,createdDate,createdByUserLogin" SearchOption="partyName,PartyAndContact/primaryEmail,PartyAndContact/address1"
                Handler="component://bf-demo/groovyScripts/partyManage/supplierParty/generateEntityListFields.groovy">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId" Immutable="true" DefaultValue="PARTY_ENABLED">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="PartyStatusItems" WithFixedValues="true"/>
        </Property>
        <Property Name="criticalityValue" Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="usccNumber" Type="String" HiddenFilter="true"/>
        <RelAlias Name="PartyGroup" Relations="PartyGroup"/>
        <Property Name="logoImageUrl" IsImageURL="true" RelAlias="PartyGroup" Field="logoImageUrl"/>
        <RelAlias Name="PartyAndContact" Relations="FromPartyRelationship(roleTypeIdTo=CONTACT and roleTypeIdFrom=CUSTOMER)/PartyAndContact"/>
        <Property Name="partyNamePrimary" RelAlias="PartyAndContact" Field="partyName" Computed="true"/>
        <Property Name="phoneMobilePrimary" RelAlias="PartyAndContact" Field="phoneMobile" Computed="true"/>
        <Property Name="phonePrimary" RelAlias="PartyAndContact" Field="primaryPhone" Computed="true"/>
        <Property Name="emailPrimary" RelAlias="PartyAndContact" Field="primaryEmail" Computed="true"/>
        <NavigationProperty Name="OrderHeader" Type="OrderHeader" Relations="OrderRole/OrderHeader" IsCollection="true"/>
        <NavigationProperty Name="Person"/>
        <NavigationProperty Name="PartyGroup" IsCollection="false"/>
        <NavigationProperty Name="PartyRole" IsCollection="false"/>
        <NavigationProperty Name="UserLogin" IsCollection="false"/>
        <NavigationProperty Name="ToShipment"/>
        <NavigationProperty Name="FromShipment"/>
        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="OwnerFinAccount" Type="FinAccount" IsCollection="true"
                            Relations="OwnerFinAccount(finAccountTypeId=BANK_ACCOUNT)" />
        <NavigationProperty Name="CustomerPartyAndContact" Relations="PartyAndContact" Type="CustomerPartyAndContact"/>
        <NavigationProperty Name="PartyAndContact" Relations="FromPartyRelationship(roleTypeIdTo=CONTACT and roleTypeIdFrom=CUSTOMER)/PartyAndContact" Type="PartyAndContact" IsCollection="true"/>
        <NavigationProperty Name="UserLoginSecurityGroup"
                            Relations="UserLogin/UserLoginSecurityGroup" Type="UserLoginSecurityGroup" HandlerNode="UserLogin/UserLoginSecurityGroup" IsCollection="true"/>

        <SelectionFields PropertyPath="statusId,SupplierPartyAndContact/primaryPhone"/>

        <HeaderInfo TypeName="客户" TypeNamePlural="客户列表" ImageUrl="logoImageUrl">
            <Title Path="partyId"/>
            <Description Path="description"/>
        </HeaderInfo>

        <FieldGroup Qualifier="IdentificationCode" Label="IdentificationCode">
            <DataField Values="usccNumber" Importance="High"/>
        </FieldGroup>

        <Action Name="CustomerNewAction" IsBound="true" EntitySetPath="customerParty"
                OfbizService="com.banfftech.common.events.PartyEvents.newCustomer"
                StickySession="true">
            <Parameter Name="customerParty" Type="CustomerParty" Nullable="false" IsCollection="true" />
            <Parameter Name="partyName" Type="String" Nullable="false" />
            <ReturnType Type="CustomerParty" />
        </Action>
        <Action Name="CustomerPartyEditAction" IsBound="true" EntitySetPath="customerParty"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionEditAction"
                StickySession="true">
            <Parameter Name="customerParty" Type="CustomerParty" Nullable="false" IsCollection="false"/>
            <ReturnType Type="CustomerParty"/>
        </Action>
        <Action Name="CustomerPartySaveAction" IsBound="true" EntitySetPath="customerParty"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionSaveAction"
                StickySession="true">
            <Parameter Name="customerParty" Type="CustomerParty" Nullable="false" IsCollection="false" />
            <ReturnType Type="CustomerParty" />
        </Action>
        <Action Name="CustomerPartyDeleteAction" IsBound="true" EntitySetPath="customerParty"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionDeleteAction"
                StickySession="true">
            <Parameter Name="customerParty" Type="CustomerParty" Nullable="false" IsCollection="false"/>
            <ReturnType Type="CustomerParty"/>
        </Action>
        <Action Name="ChangeCustomerStatusToEnable" IsBound="true" EntitySetPath="customerParty"
                OfbizService="com.banfftech.bfdemo.events.ShipmentEvents.changeCustomerStatusToEnable">
            <Parameter Name="customerParty" Type="CustomerParty" Nullable="false" IsCollection="false"/>
            <ReturnType Type="CustomerParty"/>
        </Action>
    </EntityType>

    <EntityType Name="ContactParty" OfbizEntity="Party" AutoSet="true" EntitySetName="ContactParties" EntityCondition="PartyRole/roleTypeId=CONTACT" DraftEntityName="PartyContactPartyDraft"
                Properties="partyId,partyName,description,createdDate,createdByUserLogin">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="PartyUserLogin" OfbizEntity="PartyUserLogin" AutoSet="true" EntitySetName="PartyUserLogins" AutoProperties="true" >
    </EntityType>
    <EntityType Name="Person" AutoSet="true" EntitySetName="Persons" AutoProperties="true" DraftEntityName="PartyPersonDraft">
    </EntityType>
    <EntityType Name="PartyGroup" AutoSet="true" EntitySetName="PartyGroups" AutoProperties="true" DraftEntityName="PartyPartyGroupDraft">
        <FieldGroup Qualifier="PartyGroupFieldGroup" Label="PartyGroupFieldGroup">
            <DataField Values="numEmployees,annualRevenue,tickerSymbol,comments" Importance="High"/>
        </FieldGroup>
    </EntityType>
    <EntityType Name="PartyRole" AutoSet="true" EntitySetName="PartyRoles" AutoProperties="true" DraftEntityName="PartyPartyRoleDraft">
        <Property Name="roleTypeId" >
            <Text Path="RoleType/description" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="RoleType"/>
    </EntityType>
    <EntityType Name="RoleType" EntitySetName="RoleTypes" AutoSet="true" AutoProperties="true">
    </EntityType>

    <EntityType Name="PartyAndContact" AutoDraft="true" EntityCondition="PartyAndContacts" OfbizEntity="PartyAndContact" AttrEntityName="PartyAttribute"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId" AutoLabel="true"
                DraftEntityName="PartyPartyAndContactDraft" AutoSet="true" EntitySetName="PartyAndContacts">
        <Property Name="position" IsAttribute="true" Type="String"/>
        <LineItem Qualifier="PartyRelationshipLineItemEdm">
            <DataField Values="partyName,primaryPhone,phoneMobile,primaryEmail" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="PartyRole"/>
    </EntityType>

    <EntityType Name="SupplierPartyAndContact" OfbizEntity="PartyAndContact"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId,address1" AutoLabel="true"
                DraftEntityName="SupplierPartyPartyAndContactDraft" AutoSet="true" EntitySetName="SupplierPartyAndContacts">

    </EntityType>

    <EntityType Name="SupplierPartyAndContactForShip" OfbizEntity="PartyAndContact"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId" AutoLabel="true"
                AutoSet="true" EntitySetName="SupplierPartyAndContactForShips">
        <Property Name="address1" Computed="true"/>
    </EntityType>

    <EntityType Name="CustomerPartyAndContact" OfbizEntity="PartyAndContact"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId,address1" AutoLabel="true"
                DraftEntityName="CustomerPartyAndContactDraft" AutoSet="true" EntitySetName="CustomerPartyAndContacts">
    </EntityType>

    <EntityType Name="CustomerPartyAndContactForShip" OfbizEntity="PartyAndContact"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId" AutoLabel="true"
                AutoSet="true" EntitySetName="CustomerPartyAndContactForShips">
        <Property Name="address1" Computed="true"/>
    </EntityType>

    <EntityType Name="UserLogin" EntitySetName="UserLogins" AutoSet="true" AutoProperties="true" DraftEntityName="PartyUserLoginDraft">
    </EntityType>
    <EntityType Name="SecurityGroup" EntitySetName="SecurityGroups" AutoSet="true" AutoProperties="true">
    </EntityType>
    <EntityType Name="UserLoginSecurityGroup" EntitySetName="UserLoginSecurityGroups" AutoSet="true" AutoProperties="true" DraftEntityName="PartyUserLoginSecurityGroupDraft">
        <NavigationProperty Name="SecurityGroup"/>
    </EntityType>
    <EntityType Name="SupplierProduct" AutoSet="true" EntitySetName="SupplierProducts" AutoProperties="true" DraftEntityName="PartySupplierProductDraft" >
        <Property Name="minimumOrderQuantity" DefaultValue="1" Computed="true"/>
        <Property Name="currencyUomId" DefaultValue="CNY" Computed="true"/>
        <Property Name="partyId" Computed="true"/>
        <Property Name="productId" Label="产品ID"/>
        <Property Name="availableFromDate" Computed="true"/>
        <NavigationProperty Name="Product"/>
        <NavigationProperty Name="CurrencyUom"/>
        <NavigationProperty Name="Uom" Relations="Product/QuantityUom" Type="Uom" AutoBinding="true"/>

        <LineItem Qualifier="SupplierProductLineItem">
            <DataField Values="productId,Product/productName,Product/quantityUomId" Importance="High" />
        </LineItem>
    </EntityType>
    <EntityType Name="Product" EntitySetName="Products" AutoSet="true" AutoProperties="true">
        <Property Name="productTypeId" >
            <Text Path="ProductType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="quantityUomId" Immutable="true" Label="计量单位">
            <Text Path="QuantityUom/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="productName" Label="产品名称" Immutable="true"/>
        <NavigationProperty Name="ProductType"/>
        <NavigationProperty Name="QuantityUom"/>
    </EntityType>
    <EntityType Name="RawMaterialProduct" EntitySetName="RawMaterialProducts" AutoSet="true" OfbizEntity="Product"
                EntityCondition="productTypeId=RAW_MATERIAL" AutoProperties="true">
        <Property Name="productId" Label="产品ID">
            <Text Path="productName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="QuantityUom" AutoBinding="true"/>
    </EntityType>
    <EntityType Name="ProductType" AutoSet="true" EntitySetName="ProductTypes" AutoProperties="true"/>
    <EntityType Name="Uom" AutoProperties="true" AutoSet="true" EntitySetName="Uoms">
        <Property Name="description" Label="数量单位"/>
    </EntityType>
    <EntityType Name="Shipment" AutoProperties="true" AutoSet="true" EntitySetName="Shipments" AttrEntityName="ShipmentAttribute"  DraftEntityName="PartyShipmentAppDraft"
                Handler="component://bf-demo/groovyScripts/partyManage/shipment/statusControl.groovy">
        <Property Name="receiveDate" Type="Timestamp" Precision="3" IsAttribute="true"/>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="shipmentStatus" Type="Edm.Int64"/>
        <Property Name="createdByUserLogin">
            <Text Path="PartyUserLogin/partyName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="currencyUomId">
            <Text Path="CurrencyUom/description" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="PartyUserLogin"/>
        <NavigationProperty Name="ShipmentItem"/>
        <NavigationProperty Name="SupplierParty" Relations="Party" Type="SupplierParty" ReadOnly="true"/>
        <NavigationProperty Name="CustomerParty" Relations="Party" Type="CustomerParty" ReadOnly="true"/>
        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="SupplierPartyAndContactForShip" Relations="FromParty/PartyAndContact" Type="SupplierPartyAndContactForShip"/>
        <NavigationProperty Name="CustomerPartyAndContactForShip" Relations="ToParty/PartyAndContact" Type="CustomerPartyAndContactForShip"/>
        <NavigationProperty Name="CurrencyUom" AutoBinding="true"/>
        <NavigationProperty Name="ShipmentRouteSegment" AutoBinding="true" IsCollection="false"/>

    </EntityType>
    <EntityType Name="ShipmentItem" AutoProperties="true" AutoSet="true" EntitySetName="ShipmentItems">
        <Property Name="productId">
            <Text Path="Product/productName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="Product"/>
    </EntityType>
    <EntityType Name="ShipmentRouteSegment" AutoProperties="true" AutoSet="true" EntitySetName="ShipmentRouteSegments">
        <Property Name="carrierPartyId">
            <Text Path="CarrierParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="CarrierParty" AutoBinding="true" IsCollection="false"/>
    </EntityType>
    <EntityType Name="StatusItem" AutoSet="true" EntitySetName="StatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="FinAccount" AutoSet="true" EntitySetName="FinAccounts" AutoProperties="true" AttrEntityName="FinAccountAttribute" DraftEntityName="FinAccountAppDraft" >
        <Property Name="accountName" IsAttribute="true" Type="String"/>
        <Property Name="currencyUomId" >
            <Text Path="CurrencyUom/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="CurrencyUoms" WithFixedValues="true" />
        </Property>
        <Property Name="finAccountTypeId">
            <Text Path="FinAccountType/description" TextArrangement="TextLast" />
            <ValueList CollectionPath="FinAccountTypes" WithFixedValues="true" />
        </Property>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="FinacctStatusItems" WithFixedValues="true" />
        </Property>
        <Property Name="ownerPartyId">
            <Text Path="OwnerParty/partyName" TextArrangement="TextOnly"/>
        </Property>

<!--        <LineItem Qualifier="FinAccountLineItem">-->
<!--            <DataField Values="finAccountName,finAccountCode,currencyUomId,statusId" Importance="High"/>-->
<!--        </LineItem>-->

        <NavigationProperty Name="StatusItem" AutoBinding="true" />
        <NavigationProperty Name="FinAccountType" AutoBinding="true" />
        <NavigationProperty Name="CurrencyUom" AutoBinding="true" />
        <NavigationProperty Name="OwnerParty"/>
    </EntityType>

    <EntityType Name="FinAccountType" EntitySetName="FinAccountTypes" AutoSet="true" AutoProperties="true" />
    <EntityType Name="Party" EntitySetName="Parties" AutoSet="true" AutoProperties="true" DraftEntityName="PartyPartyDraft">
        <NavigationProperty Name="PartyAndContact" AutoBinding="true"/>
    </EntityType>

    <EntityType Name="Uom" AutoProperties="true" AutoSet="true" EntitySetName="Unm" >
        <Property Name="uomId">
            <Text Path="description" TextArrangement="TextLast" />
        </Property>

        <Property Name="uomTypeId" >
            <Text Path="UomType/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="UomTypes" WithFixedValues="true" />
        </Property>

        <NavigationProperty Name="UomType" AutoBinding="true" />
    </EntityType>

    <EntityType Name="UomType" AutoSet="true" EntitySetName="UomTypes" AutoProperties="true" >
        <Property Name="uomTypeId" >
            <Text Path="description" TextArrangement="TextOnly" />
        </Property>
    </EntityType>

    <EntityType Name="OrderHeader" AutoProperties="true" AutoSet="true" EntitySetName="OrderHeaders"
                Handler="component://bf-demo/groovyScripts/purchaseOrderMange/OrderHeader/generateEntityListFields.groovy">
        <Property Name="orderHeaderStatus" Type="Edm.Int64"/>
        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>

        <NavigationProperty Name="StatusItem"/>
    </EntityType>

    <EntityType Name="Enumeration" EntitySetName="OrderSalesEnumerations" EntityCondition="enumTypeId=ORDER_NEW_SALES_CHANNEL" AutoProperties="true">
        <ValueList CollectionPath="OrderSalesEnumerations" WithFixedValues="true" Label="选择销售渠道"/>
        <Property Name="enumId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!--=====================================    EntityContainer Definition Begin   =====================================-->
    <EntityContainer >
        <EntitySet Name="UserRoleTypes" EntityType="RoleType" EntityCondition="roleTypeId in (PURCHASING_MANAGER,PRODUCTION_MANAGER,WORKER,STOCKER)"/>
        <EntitySet EntityType="StatusItem" Name="PartyStatusItems" EntityCondition="statusId in (PARTY_DISABLED,PARTY_ENABLED)"/>
        <ActionImport Name="DiscardAction" Action="DiscardAction" />
        <EntitySet EntityType="StatusItem" Name="FinacctStatusItems" EntityCondition="statusId in (FNACT_ACTIVE,FNACT_CANCELLED,FNACT_MANFROZEN)"/>
    </EntityContainer>
    <!--=====================================    EntityContainer Definition End   =====================================-->

    <!--=====================================    Action Definition Begin   =====================================-->

    <!--=====================================    Action Definition End   =====================================-->


</ofbiz-edm>
