<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
	<title>Entity of an dpbird Component</title>
	<description>None</description>
	<copyright></copyright>
	<version></version>

<!--    <view-entity entity-name="ProductAndCode"  package-name="org.ofbiz.party.party">-->
<!--        <description>Product GoodIdentification with type</description>-->
<!--        <member-entity entity-alias="Product" entity-name="Product" />-->
<!--        <member-entity entity-alias="Code" entity-name="GoodIdentification"/>-->
<!--        <member-entity entity-alias="Sku" entity-name="GoodIdentification"/>-->

<!--        <alias-all entity-alias="Product"></alias-all>-->
<!--        <alias name="code"  field="idValue" entity-alias="Code"/>-->
<!--        <alias name="sku"  field="idValue" entity-alias="Sku"/>-->

<!--        <view-link rel-entity-alias="Code" entity-alias="Product" rel-optional="true">-->
<!--            <key-map field-name="productId" rel-field-name="productId"/>-->
<!--            <entity-condition>-->
<!--                <condition-expr field-name="goodIdentificationTypeId" entity-alias="Code" value="PRODUCT_CODE"/>-->
<!--            </entity-condition>-->
<!--        </view-link>-->
<!--        <view-link rel-entity-alias="Sku" entity-alias="Product" rel-optional="true">-->
<!--            <key-map field-name="productId" rel-field-name="productId"/>-->
<!--            <entity-condition>-->
<!--                <condition-expr field-name="goodIdentificationTypeId" entity-alias="Sku" value="SKU"/>-->
<!--            </entity-condition>-->
<!--        </view-link>-->
<!--    </view-entity>-->
    <view-entity entity-name="CustRequestAndNote"
                 package-name="org.apache.ofbiz.order.request"
                 title="Customer Request And Note">
        <member-entity entity-alias="CRN" entity-name="CustRequestNote"/>
        <member-entity entity-alias="ND" entity-name="NoteData"/>
        <alias-all entity-alias="CRN">
            <exclude field="noteId"/>
        </alias-all>
        <alias-all entity-alias="ND"/>
        <view-link entity-alias="CRN" rel-entity-alias="ND">
            <key-map field-name="noteId"/>
        </view-link>
        <relation type="one-nofk" rel-entity-name="CustRequest">
            <key-map field-name="custRequestId"/>
        </relation>
    </view-entity>


    <view-entity entity-name="SupplierParty" package-name="com.dpbird.basecamp">
        <member-entity entity-alias="PG" entity-name="PartyGroup"/>
        <member-entity entity-alias="PTY" entity-name="Party"/>
        <member-entity entity-alias="PR" entity-name="PartyRole"/>
        <alias entity-alias="PTY" name="partyId"/>
        <alias entity-alias="PTY" name="externalId"/>
        <alias entity-alias="PTY" name="preferredCurrencyUomId"/>
        <alias entity-alias="PTY" name="description"/>
        <alias entity-alias="PTY" name="statusId"/>
        <alias entity-alias="PTY" name="createdDate"/>
        <alias entity-alias="PTY" name="createdByUserLogin"/>
        <alias entity-alias="PTY" name="lastModifiedDate"/>
        <alias entity-alias="PTY" name="lastModifiedByUserLogin"/>
        <alias entity-alias="PTY" name="partyName"/>
        <alias entity-alias="PG" name="groupName"/>
        <alias entity-alias="PG" name="groupNameLocal"/>
        <alias entity-alias="PG" name="officeSiteName"/>
        <alias entity-alias="PG" name="annualRevenue"/>
        <alias entity-alias="PG" name="numEmployees"/>
        <alias entity-alias="PG" name="tickerSymbol"/>
        <alias entity-alias="PG" name="comments"/>
        <alias entity-alias="PG" name="logoImageUrl"/>
        <view-link entity-alias="PTY" rel-entity-alias="PG">
            <key-map field-name="partyId"/>
        </view-link>
        <view-link entity-alias="PTY" rel-entity-alias="PR">
            <key-map field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="PR" field-name="roleTypeId" value="SUPPLIER"/>
            </entity-condition>
        </view-link>
        <relation type="one-nofk" rel-entity-name="Party">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="PartyGroup">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one-nofk" rel-entity-name="StatusItem">
            <key-map field-name="statusId"/>
        </relation>
        <relation type="many" rel-entity-name="SupplierProduct">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="many" rel-entity-name="PartyContactMechPurpose">
            <key-map field-name="partyId"/>
        </relation>
        <relation type="one-nofk" title="CreatedBy" rel-entity-name="UserLoginAndPersonDetail">
            <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
        </relation>
        <relation type="one-nofk" title="LastModifiedBy" rel-entity-name="UserLoginAndPersonDetail">
            <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
        </relation>
        <relation type="many" rel-entity-name="PartyRelationship">
            <key-map field-name="partyId" rel-field-name="partyIdFrom" />
        </relation>
        <relation type="many"  title="OwnerBy" rel-entity-name="FinAccount">
            <key-map field-name="partyId" rel-field-name="ownerPartyId"/>
        </relation>
        <relation type="many"  title="OrganizationBy" rel-entity-name="FinAccount">
            <key-map field-name="partyId" rel-field-name="organizationPartyId"/>
        </relation>
        <relation type="many"  rel-entity-name="PartyIdentification">
            <key-map field-name="partyId" />
        </relation>
        <relation type="one-nofk" title="preferredCurrency" rel-entity-name="Uom">
            <key-map field-name="preferredCurrencyUomId" rel-field-name="uomId"/>
        </relation>
    </view-entity>


    <view-entity entity-name="PersonAndContact"
                 package-name="com.banfftech.common"
                 never-cache="true">
        <member-entity entity-alias="Person" entity-name="Person"/>
        <member-entity entity-alias="PartyContactMechPurposePhone" entity-name="PartyContactMechPurpose"/>
        <member-entity entity-alias="PartyContactMechPurposeMobile" entity-name="PartyContactMechPurpose"/>
        <member-entity entity-alias="PartyContactMechPurposeEmail" entity-name="PartyContactMechPurpose"/>
        <member-entity entity-alias="TelecomNumberPhone" entity-name="TelecomNumber"/>
        <member-entity entity-alias="TelecomNumberMobile" entity-name="TelecomNumber"/>
<!--        <member-entity entity-alias="PartyAttribute" entity-name="PartyAttribute"/>-->
        <member-entity entity-alias="ContactMech" entity-name="ContactMech"/>
        <alias-all entity-alias="Person" group-by="true"/>
        <alias name="phoneWork" field="contactNumber" entity-alias="TelecomNumberPhone" group-by="true"/>
        <alias name="phoneMobile" field="contactNumber" entity-alias="TelecomNumberMobile" group-by="true"/>
        <alias name="primaryEmail" field="infoString" entity-alias="ContactMech" group-by="true"/>
        <!--        <alias entity-alias="PartyContactMechPurposeMobile" name="thruDate"/>-->
        <!--        <alias entity-alias="PartyContactMechPurposeMobile" name="fromDate"/>-->
        <view-link entity-alias="Person" rel-entity-alias="PartyContactMechPurposePhone" rel-optional="true">
            <key-map field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="PartyContactMechPurposePhone" field-name="contactMechPurposeTypeId" value="PHONE_WORK"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="Person" rel-entity-alias="PartyContactMechPurposeMobile" rel-optional="true">
            <key-map field-name="partyId"/>
            <!--            <entity-condition filter-by-date="true">-->
            <entity-condition>
                <condition-expr entity-alias="PartyContactMechPurposeMobile" field-name="contactMechPurposeTypeId" value="PHONE_MOBILE"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="Person" rel-entity-alias="PartyContactMechPurposeEmail" rel-optional="true">
            <key-map field-name="partyId"/>
            <entity-condition>
                <condition-expr entity-alias="PartyContactMechPurposeEmail" field-name="contactMechPurposeTypeId" value="PRIMARY_EMAIL"/>
            </entity-condition>
        </view-link>
        <view-link entity-alias="PartyContactMechPurposePhone" rel-entity-alias="TelecomNumberPhone" rel-optional="true">
            <key-map field-name="contactMechId"/>
        </view-link>
        <view-link entity-alias="PartyContactMechPurposeMobile" rel-entity-alias="TelecomNumberMobile" rel-optional="true">
            <key-map field-name="contactMechId"/>
        </view-link>
        <view-link entity-alias="PartyContactMechPurposeEmail" rel-entity-alias="ContactMech" rel-optional="true">
            <key-map field-name="contactMechId"/>
            <entity-condition>
                <condition-expr entity-alias="ContactMech" field-name="contactMechTypeId" value="EMAIL_ADDRESS"/>
            </entity-condition>
        </view-link>
    </view-entity>
</entitymodel>
