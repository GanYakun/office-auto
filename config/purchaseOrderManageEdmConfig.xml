<ofbiz-edm xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:noNamespaceSchemaLocation="https://dev.odatalab.com/dtds/edmconfig.xsd" ImportGlobal="false">

    <EntityType Name="OrderHeader" OfbizEntity="OrderHeader" EntitySetName="PurchaseOrderHeaders"
                EntityCondition="orderTypeId=PURCHASE_ORDER" DraftEntityName="OrderHeaderAppDraft" AutoProperties="true"
                SearchOption="orderId,orderName,StatusItem/description"
                Handler="component://bf-demo/groovyScripts/purchaseOrderMange/OrderHeader/generateEntityListFields.groovy">

        <SelectionFields
                PropertyPath="orderName,statusId,salesChannelEnumId"/>
        <RelAlias Name="supplierParty" Relations="OrderRole(roleTypeId=BILL_FROM_VENDOR)"/>

        <Property Name="chartCriticalValue" Type="Edm.Int64"/>
        <Property Name="orderHeaderStatus" Type="Edm.Int64"/>
        <Property Name="donutChartCriticalValue" Type="Edm.Int64"/>

        <Property Name="orderTypeId">
            <Text Path="OrderType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="currencyUom">
            <Text Path="Uom/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="productStoreId">
            <Text Path="ProductStore/storeName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="originFacilityId">
            <Text Path="OriginFacility/facilityName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="amountPaid" Type="BigDecimal" Scale="3" />
        <Property Name="receivedQuantity" Type="BigDecimal" Scale="2"/>
        <Property Name="targetQuantity" Type="BigDecimal" Scale="2"/>
        <Property Name="supplierPartyId" RelAlias="supplierParty" Field="partyId">
            <Text Path="Party/partyName" TextArrangement="TextOnly"/>
        </Property>


<!--        <LineItem>-->
<!--            <DataField Values="orderId,orderName,statusId,grandTotal,salesChannelEnumId" Importance="High"/>-->
<!--        </LineItem>-->
        <FieldGroup Label="CreateInfo" Qualifier="CreateInfo">
            <DataField Values="createdBy,orderDate" Importance="High"/>
        </FieldGroup>
        <HeaderInfo TypeName="采购订单" TypeNamePlural="采购订单列表">
            <Title Path="orderId"/>
            <Description Path="orderName"/>
        </HeaderInfo>
        <NavigationProperty Name="OrderItem" />
        <NavigationProperty Name="ReturnItem"/>
        <NavigationProperty Name="DataResource" Type="DataResource" Relations="OrderContent/Content/DataResource" IsCollection="true"/>
        <NavigationProperty Name="OrderAdjustment"/>
        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="Uom"/>
        <NavigationProperty Name="Invoice"/>
        <NavigationProperty Name="OrderTerm"/>
        <NavigationProperty Name="OrderPaymentPreference"/>
        <NavigationProperty Name="ProductStore"/>
        <NavigationProperty Name="PrimaryShipment" Relations="PrimaryShipment" Type="OrderShipment"/>
        <NavigationProperty Name="SalesChannelEnumeration"/>
        <NavigationProperty Name="OrderType"/>
<!--        <NavigationProperty Name="Approval"/>-->
        <NavigationProperty Name="OriginFacility" />
        <NavigationProperty Name="AfterSalesService" Type="AfterSalesService" Relations="OrderHeaderWorkEffort/WorkEffort" IsCollection="true"/>

        <NavigationProperty Name="NoteData" Type="NoteData" Relations="OrderHeaderNote/NoteData" IsCollection="true"/>
        <NavigationProperty Name="Party" Type="Party"
                            Relations="OrderRole(roleTypeId=BILL_FROM_VENDOR)/Party"/>
        <NavigationProperty Name="BillFromVendorParty" Type="Party" Cascade="true"
                            Relations="OrderRole(roleTypeId=BILL_FROM_VENDOR)/Party"/>
        <NavigationProperty Name="BillToCustomerParty" Type="BillToCustomerParty" Cascade="true"
                            Relations="OrderRole(roleTypeId=BILL_TO_CUSTOMER)/Party"/>
        <NavigationProperty Name="EndUserCustomerParty" Type="Party" Cascade="true"
                            Relations="OrderRole(roleTypeId=END_USER_CUSTOMER)/Party"/>
        <NavigationProperty Name="ShipToCustomerParty" Type="Party" Cascade="true"
                            Relations="OrderRole(roleTypeId=SHIP_TO_CUSTOMER)/Party"/>
        <NavigationProperty Name="ShipFromVendorParty" Type="Party" Cascade="true"
                            Relations="OrderRole(roleTypeId=SHIP_FROM_VENDOR)/Party"/>
        <Action Name="PurchaseOrderHeaderNewAction" IsBound="true" EntitySetPath="orderHeader"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionNewAction"
                StickySession="true">
            <Parameter Name="orderHeader" Type="OrderHeader" Nullable="false" IsCollection="true"/>
            <Parameter Name="supplierPartyId" Type="String" Nullable="false"/>
            <Parameter Name="orderTypeId" Type="String" Nullable="false"/>
            <Parameter Name="orderName" Type="String" Nullable="false"/>
            <Parameter Name="statusId" Type="String" Nullable="false"/>
            <Parameter Name="salesChannelEnumId" Type="String" Nullable="false"/>
            <ReturnType Type="OrderHeader"/>
        </Action>
        <Action Name="PurchaseOrderHeaderEditAction" IsBound="true" EntitySetPath="orderHeader"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionEditAction"
                StickySession="true">
            <Parameter Name="orderHeader" Type="OrderHeader" Nullable="false" IsCollection="false"/>
            <ReturnType Type="OrderHeader"/>
        </Action>

        <Action Name="PurchaseOrderHeaderSaveAction" IsBound="true" EntitySetPath="orderHeader"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionSaveAction"
                StickySession="true">
            <Parameter Name="orderHeader" Type="OrderHeader" Nullable="false" IsCollection="false"/>
            <ReturnType Type="OrderHeader"/>
        </Action>

        <Action Name="PurchaseOrderHeaderDeleteAction" IsBound="true" EntitySetPath="orderHeader"
                OfbizService="com.dpbird.odata.services.ProcessorServices.stickySessionSaveAction"
                StickySession="true">
            <Parameter Name="orderHeader" Type="OrderHeader" Nullable="false" IsCollection="false"/>
            <ReturnType Type="OrderHeader"/>
        </Action>
    </EntityType>

    <EntityType Name="AfterSalesService" OfbizEntity="WorkEffort" EntityCondition="workEffortTypeId=AFTER_SALES" AutoProperties="true" EntitySetName="AfterSalesServices">
        <LineItem Qualifier="AfterSalesServiceLine">
            <DataField Values="workEffortId,workEffortName,actualCompletionDate,fixedAssetId,description" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="FixedAsset"/>
        <Property Name="fixedAssetId">
            <Text Path="FixedAsset/fixedAssetName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    
    <EntityType Name="DataResource" AutoProperties="true" AutoSet="true" EntitySetName="DataResources">
        <LineItem Qualifier="DataResource">
            <DataField Values="dataResourceName,objectInfo,createdDate,lastModifiedDate" Importance="High"/>
        </LineItem>
    </EntityType>

    <EntityType Name="FixedAsset" EntitySetName="FixedAssets" AutoProperties="true" AutoSet="true"/>

    <EntityType Name="Invoice" EntitySetName="Invoices" AutoSet="true" AutoProperties="true" Handler="component://bf-demo/groovyScripts/invoiceManage/invoiceHeader/generateEntityListFields.groovy">
        <Property Name="statusColor"  Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="invoiceTypeId">
            <Text Path="InvoiceType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="StatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyIdFrom">
            <Text Path="FromParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyId">
            <Text Path="Party/partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="InvoiceType" AutoBinding="true"/>
        <NavigationProperty Name="StatusItem" AutoBinding="true"  />
        <NavigationProperty Name="Party" AutoBinding="true" />
        <NavigationProperty Name="FromParty" AutoBinding="true"/>
    </EntityType>

    <EntityType Name="InvoiceType" AutoProperties="true" AutoSet="true" EntitySetName="InvoiceTypes"/>

    <EntityType Name="NoteData" EntitySetName="NoteData" AutoSet="true" AutoProperties="true">
        <LineItem Qualifier="NoteDataLineItem">
            <DataField Values="noteName,noteInfo,noteParty,noteDateTime,moreInfoUrl" Importance="High"/>
        </LineItem>
    </EntityType>

<!--    <EntityType Name="Approval" AutoProperties="true" EntitySetName="Approvals" AutoSet="true">-->
<!--        <LineItem Qualifier="ApprovalLineItem">-->
<!--            <DataField Values="workEffortName,statusId,partyId,comments,actualCompletionDate" Importance="High"/>-->
<!--        </LineItem>-->

<!--        <Property Name="statusId">-->
<!--            <Text Path="ApprovalStatusItem/description" TextArrangement="TextOnly"/>-->
<!--        </Property>-->

<!--        <Property Name="partyId">-->
<!--            <Text Path="Party/partyName" TextArrangement="TextOnly"/>-->
<!--        </Property>-->

<!--        <NavigationProperty Name="ApprovalStatusItem"/>-->
<!--        <NavigationProperty Name="Party"/>-->
<!--    </EntityType>-->

    <EntityType Name="BillToCustomerParty" OfbizEntity="Party" AutoSet="true" EntitySetName="BillToCustomerParties" AutoProperties="true" DraftEntityName="BillToCustomerPartyDraft">
        <NavigationProperty Name="PartyAndContact"/>
        <NavigationProperty Name="PartyGroup"/>
    </EntityType>
    <EntityType Name="BillFromVendorParty" OfbizEntity="Party" AutoSet="true" EntitySetName="BillFromVendorParties" AutoProperties="true" DraftEntityName="BillFromVendorPartyDraft">
        <NavigationProperty Name="PartyAndContact"/>
        <NavigationProperty Name="PartyGroup"/>
    </EntityType>

    <EntityType Name="OrderTerm" EntitySetName="OrderTerms" AutoSet="true" AutoProperties="true">
        <LineItem Qualifier="OrderTermLineItem">
            <DataField Values="termTypeId,termValue,termDays,description,uomId" Importance="High"/>
        </LineItem>
        <Property Name="termTypeId">
            <Text Path="TermType/description" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="TermType"/>
    </EntityType>

    <!--PurchaseQuote-->
    <EntityType Name="PurchaseQuote" OfbizEntity="Quote" EntityCondition="quoteTypeId=PURCHASE_QUOTE" EntitySetName="PurchaseQuotes" AutoProperties="true" AutoSet="true"
                Handler="component://bf-demo/groovyScripts/marketingSalesService/quote/generateEntityListFields.groovy">
        <LineItem>
            <DataField Values="quoteId,quoteName,partyId,custRequestId,salesChannelEnumId" Importance="High"/>
            <DataField Values="statusId" Criticality="statusColor" Importance="High"/>
            <Criticality Value="statusColor"/>
        </LineItem>

        <HeaderInfo TypeName="报价" TypeNamePlural="报价列表">
            <Title Path="quoteId"/>
            <Description Path="quoteName"/>
        </HeaderInfo>

        <FieldGroup Label="BaseInfo" Qualifier="BaseInfo">
            <DataField Values="partyId,salesChannelEnumId,custRequestId" Importance="High"/>
        </FieldGroup>

        <Property Name="partyId" ExcludeFromNavigationContext="true"/>

        <SelectionFields PropertyPath="quoteId,partyId,statusId"/>

        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="QuoteStatusItem/description" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="QuoteStatusItems" WithFixedValues="true"/>
        </Property>
        <Property Name="partyId">
            <Text Path="Supplier/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="Suppliers"/>
        </Property>
        <Property Name="statusColor"  Type="numeric" Hidden="true" HiddenFilter="true"/>

        <NavigationProperty Name="QuoteStatusItem" Type="QuoteStatusItem" Relations="StatusItem"/>
        <NavigationProperty Name="SalesChannelEnumeration"/>
        <NavigationProperty Name="QuoteItem"/>
        <NavigationProperty Name="QuoteTerm"/>
        <NavigationProperty Name="Supplier" Type="Supplier" Relations="Party"/>
        <NavigationProperty Name="PurchaseRequest" Type="PurchaseRequest" Relations="CustRequest" IsCollection="false"/>
    </EntityType>

    <EntityType Name="QuoteTerm" AutoProperties="true" EntitySetName="QuoteTerms" AutoSet="true">
        <LineItem Qualifier="QuoteTermLineItem">
            <DataField Values="termTypeId,termValue,termDays,description,uomId" Importance="High"/>
        </LineItem>
        <Property Name="termTypeId">
            <Text Path="TermType/description" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="TermType"/>
    </EntityType>

    <EntityType Name="TermType" AutoProperties="true" AutoSet="true" EntitySetName="TermTypes">
        <Property Name="termTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="Company" OfbizEntity="Party" AutoProperties="true" EntityCondition="PartyRole/roleTypeId=INTERNAL_ORGANIZATIO" EntitySetName="Companies" AutoSet="true">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="PartyAndContact"/>
        <NavigationProperty Name="PartyGroup"/>
    </EntityType>

    <EntityType Name="Supplier" OfbizEntity="Party" EntityCondition="PartyRole/roleTypeId=SUPPLIER" EntitySetName="Suppliers" AutoSet="true" AutoProperties="true">
        <Property Name="partyId" Label="供应商">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="PartyAndContact"/>
        <NavigationProperty Name="PartyGroup"/>
    </EntityType>

    <EntityType Name="PartyAndContact" AutoProperties="true" AutoSet="true" EntitySetName="PartyAndContacts"/>

    <EntityType Name="QuoteItem" AutoSet="true" EntitySetName="QuoteItems" AutoProperties="true">
        <LineItem Qualifier="QuoteItemLineItem">
            <DataField Values="productId,Product/productName,quantity,quoteUnitPrice,comments" Importance="High"/>
        </LineItem>

        <NavigationProperty Name="Product"/>
    </EntityType>

    <EntityType Name="PurchaseRequest" OfbizEntity="CustRequest" EntityCondition="custRequestTypeId=RF_PUR_QUOTE" AutoProperties="true" EntitySetName="PurchaseRequests" AutoSet="true">
        <Property Name="custRequestId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="fromPartyId">
            <Text Path="FromParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="FromParty"/>
    </EntityType>

    <EntityType Name="PartyGroup" AutoProperties="true" AutoSet="true" EntitySetName="PartyGroups"/>


    <EntityType Name="PartyAndContact" EntitySetName="PartyAndContacts" AutoProperties="true">
    </EntityType>

    <EntityType Name="SupplierParty" EntitySetName="SupplierParties" EntityCondition="PartyRole/roleTypeId=SUPPLIER" AutoProperties="true" OfbizEntity="PartyAndContact">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="UserLogin"  EntitySetName="UserLogins" AutoProperties="true">
<!--        <Property Name="userLoginId" Immutable="true"/>-->
    </EntityType>
    <EntityType Name="Party" EntitySetName="Parties" AutoProperties="true" DraftEntityName="OrderPartyDraft">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="PartyAndContact"/>
    </EntityType>
    <EntityType Name="OrderRole"  EntitySetName="OrderRoles" AutoProperties="true"/>

    <EntityType Name="OrderType"  EntitySetName="OrderTypes" AutoProperties="true"/>

    <EntityType Name="OrderStatus" EntitySetName="OrderStatuses" AutoProperties="true"/>

    <EntityType Name="StatusItem" EntitySetName="OrderStatusItems" EntityCondition="statusTypeId=ORDER_STATUS" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
        <ValueList CollectionPath="OrderStatusItems" WithFixedValues="true"/>
    </EntityType>
    <EntityType Name="ShipmentStatusItem" OfbizEntity="StatusItem" EntitySetName="ShipmentStatusItems" EntityCondition="statusTypeId=GENERAL_SHIP_STATUS" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
        <ValueList CollectionPath="ShipmentStatusItems" WithFixedValues="true"/>
    </EntityType>

    <EntityType Name="ReturnStatusItem" OfbizEntity="StatusItem" EntitySetName="ReturnStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="PaymentStatusItem" OfbizEntity="StatusItem" EntitySetName="PaymentStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="OrderItem" EntitySetName="OrderItems" AutoProperties="true" DraftEntityName="OrderItemAppDraft"
                Handler="component://bf-demo/groovyScripts/purchaseOrderMange/OrderItem/generateEntityListFields.groovy">

        <Property Name="totalPrice" Type="BigDecimal" Scale="2"/>
        <Property Name="productId" Label="产品名称">
            <Text Path="Product/productName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="quantity" Scale="3"/>
        <Property Name="unitPrice" Scale="3"/>
        <Property Name="totalQuantity" Type="BigDecimal" Scale="6"/>

        <NavigationProperty Name="StatusItem"/>
        <NavigationProperty Name="Product"/>
        <NavigationProperty Name="FromInventoryItem"/>
        <NavigationProperty Name="Uom" Relations="Product/QuantityUom" Type="Uom"/>
    </EntityType>

    <EntityType Name="Product" EntitySetName="Products" AutoProperties="true">
        <ValueList CollectionPath="Products" WithFixedValues="true"/>
        <Property Name="productId">
            <Text Path="productName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="productTypeId">
            <Text Path="ProductType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="quantityUomId" Label="单位">
            <Text Path="QuantityUom/description" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="ProductType"/>
        <NavigationProperty Name="QuantityUom"/>
    </EntityType>

    <EntityType Name="ProductType" EntitySetName="ProductType" AutoProperties="true">
    </EntityType>

    <EntityType Name="OrderAdjustment" EntitySetName="OrderAdjustments">
        <Property Name="orderAdjustmentId" Hidden="true" HiddenFilter="true"/>
        <Property Name="orderAdjustmentTypeId">
            <Text Path="OrderAdjustmentType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="description"/>
        <Property Name="amount"/>
        <Property Name="productPromoId">
            <Text Path="ProductPromo/promoName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="OrderAdjustmentType" AutoBinding="true"/>
        <NavigationProperty Name="ProductPromo" AutoBinding="true"/>
    </EntityType>

    <EntityType Name="OrderAdjustmentType" EntitySetName="OrderAdjustmentTypes" AutoProperties="true"/>

    <EntityType Name="ProductPromo" EntitySetName="ProductPromos" AutoProperties="true"/>

    <EntityType Name="Uom"  EntitySetName="Uoms" AutoProperties="true"/>

    <EntityType Name="OrderPaymentPreference" EntitySetName="OrderPaymentPreferences" AutoProperties="true" DraftEntityName="OrderPaymentPreferenceAppDraft"
                Handler="component://bf-demo/groovyScripts/purchaseOrderMange/OrderPaymentPreference/generateEntityListFields.groovy">
        <!--订单预付支付状态的颜色显示语义化字段-->
        <Property Name="orderPaymentStatus" Type="Edm.Int64"/>
        <Property Name="statusId" Immutable="true">
            <Text Path="PaymentStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="paymentMethodTypeId" >
            <Text Path="PaymentMethodType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="paymentMethodId">
            <Text Path="PaymentMethod/description" TextArrangement="TextOnly"/>
        </Property>
        <LineItem Qualifier="PurchaseOrderPaymentPreference">
            <DataField Values="orderPaymentPreferenceId,paymentMethodTypeId,paymentMethodId,statusId,maxAmount" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="PaymentStatusItem" Relations="StatusItem" Type="PaymentStatusItem"/>
        <NavigationProperty Name="PaymentMethodType"/>
        <NavigationProperty Name="PaymentMethod"/>
        <NavigationProperty Name="Uom" Relations="OrderHeader/Uom" Type="Uom"/>
    </EntityType>

    <EntityType Name="ProductStore" EntitySetName="ProductStores" AutoProperties="true">
        <Property Name="productStoreId">
            <Text Path="storeName" TextArrangement="TextOnly"/>
        </Property>
        <ValueList CollectionPath="ProductStores" WithFixedValues="true" Label="选择店铺"/>
    </EntityType>
    <EntityType Name="OrderShipment" OfbizEntity="Shipment" EntitySetName="OrderShipments" AutoProperties="true"
                DraftEntityName="ShipmentDraft"  Handler="component://bf-demo/groovyScripts/purchaseOrderMange/Shipment/generateEntityListFields.groovy">
        <Property Name="originFacilityId">
            <Text Path="OriginFacility/facilityName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="shipmentStatus" Type="Edm.Int64"/>
        <Property Name="statusId">
            <Text Path="ShipmentStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <LineItem Qualifier="OrderShipment">
            <DataField Values="shipmentId,statusId,originFacilityId,ShipmentRouteSegment/carrierPartyId,createdDate" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="SupplierPartyAndContactForShip" Relations="FromParty/PartyAndContact" Type="SupplierPartyAndContactForShip"/>
        <NavigationProperty Name="CustomerPartyAndContactForShip" Relations="ToParty/PartyAndContact" Type="CustomerPartyAndContactForShip"/>
        <NavigationProperty Name="ShipmentStatusItem" Relations="StatusItem" Type="ShipmentStatusItem" />
        <NavigationProperty Name="ShipmentRouteSegment" IsCollection="false"/>
        <NavigationProperty Name="OriginFacility"/>
    </EntityType>

    <EntityType Name="SupplierPartyAndContactForShip" OfbizEntity="PartyAndContact"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId" AutoLabel="true"
                AutoSet="true" EntitySetName="SupplierPartyAndContactForShips">
        <Property Name="address1" Computed="true"/>
    </EntityType>

    <EntityType Name="CustomerPartyAndContactForShip" OfbizEntity="PartyAndContact"
                Properties="primaryPhone,phoneMobile,primaryEmail,partyName,partyId" AutoLabel="true"
                AutoSet="true" EntitySetName="CustomerPartyAndContactForShips">
        <Property Name="address1" Computed="true"/>
    </EntityType>

    <EntityType Name="ShipmentRouteSegment" AutoSet="true" EntitySetName="ShipmentRouteSegments" AutoProperties="true">
        <Property Name="carrierPartyId">
            <Text Path="CarrierParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="CarrierParty" AutoBinding="true" IsCollection="false"/>
    </EntityType>

    <EntityType Name="InventoryItem" EntitySetName="InventoryItems" AutoProperties="true">
    </EntityType>

    <EntityType Name="InventoryItemDetail" EntitySetName="InventoryItemDetails" AutoProperties="true">
    </EntityType>

    <EntityType Name="Enumeration" EntitySetName="OrderSalesEnumerations" EntityCondition="enumTypeId=ORDER_NEW_SALES_CHANNEL" AutoProperties="true">
        <ValueList CollectionPath="OrderSalesEnumerations" WithFixedValues="true" Label="选择销售渠道"/>
        <Property Name="enumId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="PaymentMethodType" EntitySetName="PaymentMethodTypes" AutoProperties="true">
        <ValueList CollectionPath="PaymentMethodTypes" WithFixedValues="true" Label="选择预付类型"/>
        <Property Name="paymentMethodTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="PaymentMethod" EntitySetName="PaymentMethods" AutoProperties="true">
        <ValueList CollectionPath="PaymentMethods" WithFixedValues="true" Label="选择预付方式"/>
        <Property Name="paymentMethodId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="Facility" EntitySetName="Facilities" AutoProperties="true">
    </EntityType>

    <EntityType Name="ReturnItem" EntitySetName="ReturnItems" AutoProperties="true">
        <Property Name="returnQuantity" Scale="0"/>
        <Property Name="returnReasonId">
            <Text Path="ReturnReason/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="orderId">
            <Text Path="OrderHeader/orderName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="productId">
            <Text Path="Product/productName" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="ReturnStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <LineItem Qualifier="ReturnItem">
            <DataField Values="returnId,returnReasonId,orderId,productId,orderItemSeqId,statusId,returnQuantity" Importance="High"/>
        </LineItem>
        <FieldGroup Qualifier="ReturnItemDetail" Label="退货项详情">
            <DataField Values="returnId,orderId,productId,orderItemSeqId,returnQuantity,returnPrice,statusId,description" Importance="High"/>
        </FieldGroup>
        <HeaderInfo TypeName="ReturnItem Detail" TypeNamePlural="退货项详情">
            <Title Path="returnId" />
            <Description Path="description" />
        </HeaderInfo>
        <NavigationProperty Name="ReturnReason" AutoBinding="true"/>
        <NavigationProperty Name="Product" AutoBinding="true"/>
        <NavigationProperty Name="OrderHeader" AutoBinding="true" />
        <NavigationProperty Name="ReturnStatusItem"  Relations="StatusItem" Type="ReturnStatusItem"/>
    </EntityType>

    <EntityType Name="ReturnReason" AutoProperties="true">
    </EntityType>

    <EntityType Name="QuoteStatusItem" OfbizEntity="StatusItem" EntityCondition="statusTypeId=QUOTE_STATUS" AutoProperties="true" AutoSet="true" EntitySetName="QuoteStatusItems">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="Enumeration" AutoProperties="true" EntityCondition="enumTypeId=ORDER_NEW_SALES_CHANNEL" EntitySetName="Enumerations" AutoSet="true">
        <Property Name="enumId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityContainer>
        <EntitySet Name="OrderStatusItems" EntityType="StatusItem" EntityCondition="statusTypeId=ORDER_STATUS"/>
        <EntitySet Name="OrderItemStatusItems" EntityType="StatusItem"
                   EntityCondition="statusTypeId=ORDER_ITEM_STATUS"/>
        <EntitySet Name="OrderPaymentPreferenceStatusItems" EntityType="StatusItem"
                   EntityCondition="statusTypeId=PAYMENT_PREF_STATUS"/>
        <EntitySet Name="CurrencyUoms" EntityType="Uom" EntityCondition="uomTypeId=CURRENCY_MEASURE"/>
        <!--=============================    ActionImportStart    =============================-->
        <ActionImport Name="DiscardAction" Action="DiscardAction"/>
        <!--=============================     ActionImportEnd    =============================-->
    </EntityContainer>
    <!--=====================================     CRUD Action definition Start   =====================================-->

    <Action Name="DiscardAction"/>
    <!--=====================================     CRUD Action definition End   =====================================-->


</ofbiz-edm>
