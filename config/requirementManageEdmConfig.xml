<ofbiz-edm xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:noNamespaceSchemaLocation="https://dev.odatalab.com/dtds/edmconfig.xsd" ImportGlobal="false">
    <!-- 主对象PurchaseRequest（采购请求）-->
    <EntityType Name="ProductRequirement" OfbizEntity="Requirement" EntityCondition="requirementTypeId=PRODUCT_REQUIREMENT"
                Properties="requirementId,requirementTypeId,facilityId,productId,statusId"
                EntitySetName="ProductRequirements" AutoSet="true">

        <!--关联多个采购请求单-->
        <NavigationProperty Name="PurchaseRequest" Type="PurchaseRequest" Relations="RequirementCustRequest/CustRequest" IsCollection="true"/>

        <Action Name="CreateProductRequirement" IsBound="true" EntitySetPath="productRequirement"
                OfbizService="com.dpbird.odata.events.ActionEvents.createEntity">
            <Parameter Name="productRequirement" Type="ProductRequirement" Nullable="false" IsCollection="true"/>
        </Action>
    </EntityType>

    <EntityType Name="PurchaseRequest" OfbizEntity="CustRequest" EntityCondition="custRequestTypeId=RF_PUR_QUOTE"
                AutoProperties="true"
                EntitySetName="PurchaseRequests" AutoSet="true">
    </EntityType>
</ofbiz-edm>