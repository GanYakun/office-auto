<ofbiz-edm xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://dev.odatalab.com/dtds/edmconfig.xsd" ImportGlobal="false">
    <ImportEdm Path="component://officeauto/config/launchpadManageEdmConfig.xml"/>

    <!--======================================SupplierParty（主对象）========================================-->
    <EntityType Name="SupplierParty" OfbizType="PartyRole/roleTypeId=SUPPLIER" EntityCondition="approvePartyId=${company.partyId}" OfbizEntity="WorkEffortAndPartyGroupContact" EntitySetName="SupplierParties" AutoSet="true" AutoProperties="true" AttrDateEntityName="PartyAttributeDate"
                AutoLabel="true" SearchOption="partyName,primaryEmail,address1"
                Handler="component://officeauto/groovyScripts/partyManage/supplierPartyApprove/generateEntityListFields.groovy">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextFirst"/>
        </Property>
        <Property Name="currentStatusId" DefaultValue="NOT_PROCESSED">
            <Text Path="CurrentStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="SupplierStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="ddFormType" Type="String"/>
        <Property Name="ddFormIsComplete" Type="Boolean"/>
        <Property Name="ddFormCompleteTime" Type="Timestamp"/>
        <Property Name="createSupplierHidden" Type="Boolean" Hidden="true"/>
        <Property Name="firstOrderDate" Type="Timestamp" IsDateAttribute="true"/>
        <Property Name="collectionDate" Type="Timestamp" IsDateAttribute="true"/>
        <Property Name="totalAmount" Type="BigDecimal" Scale="3"/>
        <Property Name="criticalityValue" Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="statusId" Immutable="true" DefaultValue="PARTY_DISABLED">
            <ValueList CollectionPath="SupplierStatusItems" WithFixedValues="true"/>
        </Property>
        <Property Name="priority">
            <Text Path="PriorityEnumeration/description" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="PriorityEnumerations" WithFixedValues="true" Label="${selectPriority}"/>
        </Property>
        <Property Name="usccNumber" Type="String" HiddenFilter="true"/>
        <RelAlias Name="PersonAndContact" Relations="FromPartyRelationship(roleTypeIdTo=CONTACT and roleTypeIdFrom=SUPPLIER)/ToPersonAndContact"/>
        <Property Name="contactName" RelAlias="PersonAndContact" Field="partyName" Computed="true"/>
        <Property Name="contactPhoneMobile" RelAlias="PersonAndContact" Field="phoneMobile" Computed="true"/>
        <Property Name="contactPhonePrimary" RelAlias="PersonAndContact" Field="primaryPhone" Computed="true"/>
        <Property Name="contactEmailPrimary" RelAlias="PersonAndContact" Field="primaryEmail" Computed="true"/>

        <NavigationProperty Name="Product" Type="Product" Relations="SupplierProduct/Product" IsCollection="true"/>
        <NavigationProperty Name="Service" Type="Service" Relations="SupplierProduct/Product" IsCollection="true"/>
        <NavigationProperty Name="ToShipment"/>
        <NavigationProperty Name="FromShipment"/>
        <NavigationProperty Name="SupplierStatusItem" Type="SupplierStatusItem" Relations="StatusItem"/>
        <NavigationProperty Name="OwnerFinAccount" Type="FinAccount" IsCollection="true"
                            Relations="OwnerFinAccount(finAccountTypeId=BANK_ACCOUNT)" />
        <NavigationProperty Name="PersonAndContact" Relations="FromPartyRelationship(roleTypeIdTo=CONTACT and roleTypeIdFrom=SUPPLIER)/ToPersonAndContact" Type="PersonAndContact" IsCollection="true"/>
        <NavigationProperty Name="PurchaseAgreement" Type="PurchaseAgreement" Relations="ToAgreement"/>
        <NavigationProperty Name="NoteData" Type="NoteData" Relations="PartyNote/NoteData" IsCollection="true"/>
        <NavigationProperty Name="PurchaseOrder" Type="PurchaseOrder" Relations="OrderRole(roleTypeId=BILL_FROM_VENDOR)/OrderHeader" IsCollection="true"/>
        <NavigationProperty Name="Invoice"/>
        <NavigationProperty Name="PurchaseQuote" Type="PurchaseQuote" Relations="Quote" IsCollection="true"/>
        <NavigationProperty Name="AfterSalesService" Type="AfterSalesService" Relations="WorkEffortPartyAssignment(roleTypeId=SUPPLIER)/WorkEffort" IsCollection="true"/>
        <NavigationProperty Name="PartyClassification" IsCollection="false"/>
        <NavigationProperty Name="CurrentStatusItem"/>
        <NavigationProperty Name="SurveyQuestionAppl" Type="SurveyQuestionAppl" Relations="PartySurveyAppl/SurveyQuestionAppl" IsCollection="true"/>
        <NavigationProperty Name="ChildWorkEffortAndPartyGroupContact" Type="CoWorkHistory" Relations="ChildWorkEffortAndPartyGroupContact" IsCollection="true"/>
        <NavigationProperty Name="PostalAddress" Type="PostalAddress" Relations="PartyContactMechPurpose/PostalAddress" IsCollection="true"/>
        <NavigationProperty Name="PriorityEnumeration"/>
        <NavigationProperty Name="ProductCategory" Type="ProductCategory" Relations="ProductCategoryRole/ProductCategory" IsCollection="false"/>
        <NavigationProperty Name="Department" Type="Department" Relations="ToPartyRelationship(roleTypeIdFrom=DEPARTMENT)/FromParty" IsCollection="true"/>

        <!-- 财务报表 -->
        <NavigationProperty Name="FinancialStatements" Type="PartyMediaResource"
                            Relations="PartyMediaResource(partyContentTypeId=FINANCIAL_STATEMENTS)" IsCollection="true"/>
        <!-- 保密协议 -->
        <NavigationProperty Name="ConfidentialityAgreement" Type="PartyMediaResource"
                            Relations="PartyMediaResource(partyContentTypeId=CONFIDENTIALITY_AGREEMENT)" IsCollection="true"/>
        <!-- 其他文件 -->
        <NavigationProperty Name="OtherFiles" Type="PartyMediaResource"
                            Relations="PartyMediaResource(partyContentTypeId=OTHER_FILES)" IsCollection="true"/>

        <SelectionFields PropertyPath="currentStatusId,primaryPhone"/>

        <!--Annotation-->
        <FieldGroup Label="PartyBaseInfo" Qualifier="PartyBaseInfo">
            <DataField Values="tickerSymbol,ProductCategory/categoryName,ddFormType,usccNumber" Importance="High"/>
        </FieldGroup>
        <FieldGroup Qualifier="PartyGroupFieldGroup" Label="PartyGroupFieldGroup">
            <DataField Values="numEmployees,annualRevenue,tickerSymbol,comments,priority" Importance="High"/>
        </FieldGroup>
        <FieldGroup Qualifier="PartyGroupFieldGroupWithAction" Label="PartyGroupFieldGroupWithAction">
            <DataField Values="numEmployees,annualRevenue,tickerSymbol,comments,priority" Importance="High"/>
            <DataFieldForAction Label="${UpdateBasicInfo}" Action="FillSupplierBaseInfo" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated" Hidden="disableEditSupplier"/>
        </FieldGroup>

        <FieldGroup Qualifier="ContactInfo" Label="ContactInfo">
            <DataField Values="primaryPhone,primaryEmail,usccNumber" Importance="High"/>
        </FieldGroup>
        <FieldGroup Qualifier="ContactInfoWithAction" Label="ContactInfoWithAction">
            <DataField Values="primaryPhone,primaryEmail,usccNumber" Importance="High"/>
            <DataFieldForAction Label="${UpdateSupplierContactInfo}" Action="UpdateSupplierContactInfo" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated" Hidden="disableEditSupplier"/>
        </FieldGroup>

        <FieldGroup Qualifier="SupplierTimeInfo" Label="SupplierTimeInfo">
            <DataField Values="collectionDate,firstOrderDate" Importance="High"/>
        </FieldGroup>
        <FieldGroup Qualifier="SupplierTimeInfoWithAction" Label="SupplierTimeInfoWithAction">
            <DataField Values="collectionDate,firstOrderDate" Importance="High"/>
            <DataFieldForAction Label="${UpdateSupplierTimeInfo}" Action="UpdateSupplierTimeInfo" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated" Hidden="disableEditSupplier"/>
        </FieldGroup>

        <LineItem>
            <DataField Values="partyId,primaryEmail,address1,primaryPhone" Importance="High"/>
        </LineItem>
        <LineItem Qualifier="CreateLineItem">
            <DataField Values="partyId,primaryEmail,address1,primaryPhone" Importance="High"/>
            <DataFieldForAction Label="${create}" Action="CreateSupplierParty" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>

        <FieldGroup Qualifier="TimeInfo" Label="TimeInfo">
            <DataField Values="createdDate,lastModifiedDate,firstOrderDate,collectionDate" Importance="High"/>
        </FieldGroup>

        <FieldGroup Qualifier="IdentificationCode" Label="IdentificationCode">
            <DataField Values="usccNumber" Importance="High"/>
        </FieldGroup>

        <HeaderInfo TypeName="Supplier Party" TypeNamePlural="Supplier Party List">
            <Title Path="partyId"/>
            <Description Path="description"/>
        </HeaderInfo>

        <!--填写评级-->
        <Action Name="FillPartyClassification" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.fillPartyClassification">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="partyClassificationGroupId" Type="String" Label="${partyClassificationGroupId}">
                <ValueList CollectionPath="PartyClassificationGroups" WithFixedValues="true">
                    <ParameterInOut LocalDataProperty="partyClassificationGroupId" ValueListProperty="partyClassificationGroupId"/>
                </ValueList>
            </Parameter>
        </Action>

        <!--填写基本信息-->
        <Action Name="FillSupplierBaseInfo" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierEvents.fillSupplierBaseInfo"
                StickySession="true" SideEffects="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="numEmployees" Type="BigDecimal" Label="${supplierUpdateActionNumEmployees}"/>
            <Parameter Name="annualRevenue" Type="BigDecimal" Label="${supplierUpdateActionAnnualRevenue}"/>
            <Parameter Name="tickerSymbol" Type="String" Label="${supplierUpdateActionTickerSymbol}"/>
            <Parameter Name="comments" Type="String" Label="${supplierUpdateActionComments}"/>
            <Parameter Name="usccNumber" Type="String" Label="${usccNumber}"/>
            <Parameter Name="priority" Type="String" Label="${Priority}">
                <ValueList CollectionPath="PriorityEnumerations" WithFixedValues="true" Label="${selectPriority}">
                    <ParameterInOut LocalDataProperty="priority" ValueListProperty="enumId"/>
                </ValueList>
            </Parameter>
            <ReturnType Type="SupplierParty"/>
        </Action>

        <!--更新联系人信息-->
        <Action Name="UpdateSupplierContactInfo" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierEvents.updateSupplierContactInfo"
                StickySession="true" SideEffects="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="primaryPhone" Type="String" Label="${supplierUpdateActionPrimaryPhone}"/>
            <Parameter Name="primaryEmail" Type="String" Label="${supplierUpdateActionPrimaryEmail}"/>
            <ReturnType Type="SupplierParty"/>
        </Action>

        <!--更新时间信息-->
        <Action Name="UpdateSupplierTimeInfo" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierEvents.updateSupplierTimeInfo"
                StickySession="true" SideEffects="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="collectionDate" Type="Timestamp" Label="${supplierUpdateActionCollectionDate}"/>
            <Parameter Name="firstOrderDate" Type="Timestamp" Label="${supplierUpdateActionFirstOrderDate}"/>
            <ReturnType Type="SupplierParty"/>
        </Action>

        <!--创建Supplier-->
        <Action Name="CreateSupplierParty" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createSupplierParty">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="true"/>
            <Parameter Name="partyName" Type="String" Label="${supplierActionPartyName}" Nullable="false"/>
            <Parameter Name="isGovernment" Type="Boolean" Label="${isGovernment}" Nullable="false"/>
            <Parameter Name="primaryPhone" Type="String" Label="${supplierActionPrimaryPhone}" Nullable="true"/>
            <Parameter Name="primaryEmail" Type="String" Label="${supplierActionPrimaryEmail}" Nullable="true"/>
            <Parameter Name="productCategoryId" Type="String" Label="${partyCategoryId}" Nullable="false">
                <ValueList WithFixedValues="true" CollectionPath="ProductCategories">
                    <ParameterInOut ValueListProperty="productCategoryId" LocalDataProperty="productCategoryId"/>
                </ValueList>
            </Parameter>
        </Action>

        <!--推送给采购部门的Action-->
        <Action Name="SubmitToProcurement" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierApproveEvents.toProcurement"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="target" Type="String" IsCollection="false"/>
            <Parameter Name="noteInfo" Type="String" Label="${noteInfo}"/>
            <ReturnType Type="SupplierParty"/>
        </Action>
        <!--推送到申请人的Action-->
        <Action Name="ReturnToApplication" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierApproveEvents.procurementReturn"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="target" Type="String" IsCollection="false"/>
            <Parameter Name="noteInfo" Type="String" Label="${noteInfo}"/>
            <ReturnType Type="SupplierParty"/>
        </Action>
        <!--推送到供应商的Action-->
        <Action Name="ReturnToSupplier" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierApproveEvents.procurementReturn"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="target" Type="String" IsCollection="false"/>
            <Parameter Name="noteInfo" Type="String" Label="${noteInfo}"/>
            <Parameter Name="isSimplifiedForm" Type="Boolean" Label="${isSimplifiedForm}"/>
            <Parameter Name="email" Type="String" Label="${email}"/>
            <ReturnType Type="SupplierParty"/>
        </Action>
        <!--推送到合规部门的Action-->
        <Action Name="ReturnToCompliance" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierApproveEvents.procurementReturn"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="target" Type="String" IsCollection="false"/>
            <Parameter Name="noteInfo" Type="String" Label="${noteInfo}"/>
            <ReturnType Type="SupplierParty"/>
        </Action>

        <Action Name="CompleteCoWork" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.events.SupplierApproveEvents.completeCOWork" SideEffects="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
        </Action>

        <Action Name="ChangeSupplierStatusToEnable" IsBound="true" EntitySetPath="supplierParty"
                OfbizService="com.banfftech.bfdemo.events.ShipmentEvents.changeSupplierStatusToEnable"
                StickySession="true">
            <Parameter Name="supplierParty" Type="SupplierParty" Nullable="false" IsCollection="false"/>
            <Parameter Name="target" Type="String" IsCollection="false"/>
            <ReturnType Type="SupplierParty"/>
        </Action>

        <!--生成调查问卷的回答-->
        <Action Name="GenerateSurveyQuestionAnswer" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.generateSurveyQuestionAnswer" SideEffects="true">
            <Parameter Name="partyUserLogin" Type="PartyUserLogin" Nullable="false" IsCollection="false"/>
            <ReturnType Type="SupplierParty"/>
        </Action>
    </EntityType>

    <!--======================================CoWorkHistory（审批历史）========================================-->
    <EntityType Name="CoWorkHistory" Orderby="-lastModifiedDate" EntitySetName="CoWorkHistories" Properties="workEffortId,partyId,partyName,approvePartyId,currentStatusId,lastModifiedDate" OfbizEntity="WorkEffortAndPartyGroupContact" OfbizType="PartyRole/roleTypeId=SUPPLIER">
        <Property Name="currentStatusId">
            <Text Path="CurrentStatusItem/description" TextArrangement="TextOnly"/>
        </Property>

        <LineItem Qualifier="HistoryRecord">
            <DataField Values="ApproveParty/partyName,currentStatusId,lastModifiedDate" Importance="High"/>
        </LineItem>

        <NavigationProperty Name="CurrentStatusItem"/>
        <NavigationProperty Name="ApproveParty"/>
    </EntityType>

    <!--======================================地址列表========================================-->
    <EntityType Name="PartyContactMechPurpose" EntitySetName="PartyContactMechPurposes" AutoProperties="true">
        <Property Name="contactMechPurposeTypeId">
            <Text Path="ContactMechPurposeType/description" TextArrangement="TextOnly"/>
        </Property>
        
        <NavigationProperty Name="PostalAddress"/>
        <NavigationProperty Name="ContactMechPurposeType"/>
    </EntityType>

    <EntityType Name="PostalAddress" AutoProperties="true" EntitySetName="PostalAddresses">
        <LineItem Qualifier="PostalAddressLineItem">
            <DataField Values="PartyContactMechPurpose/contactMechPurposeTypeId,address1" Importance="High"/>
            <DataFieldForAction Label="${create}" Action="CreatePostalAddress" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>

        <NavigationProperty Name="PartyContactMechPurpose"/>

        <Action Name="CreatePostalAddress" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createPostalAddress">
            <Parameter Name="postalAddress" Type="PostalAddress" Nullable="false" IsCollection="true"/>
            <Parameter Name="address1" Type="String" Label="${address1}" Nullable="false"/>
            <Parameter Name="contactMechPurposeTypeId" Type="String" Label="${contactMechPurposeTypeId}" Nullable="true">
                <ValueList WithFixedValues="true" CollectionPath="ContactMechPurposeTypes">
                    <ParameterInOut LocalDataProperty="contactMechPurposeTypeId" ValueListProperty="contactMechPurposeTypeId"/>
                </ValueList>
            </Parameter>
        </Action>
    </EntityType>

    <EntityType Name="ContactMechPurposeType" AutoProperties="true" EntitySetName="ContactMechPurposeTypes">
        <Property Name="contactMechPurposeTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!-- 文件 -->
    <EntityType Name="PartyMediaResource" Orderby="-createdDate" EntitySetName="PartyMediaResources"
                Properties="partyContentId,partyId,contentId,contentName,createdDate,otherData,mimeTypeId">
        <LineItem Qualifier="FileList">
            <DataField Values="contentName,createdDate,otherData" Importance="High"/>
            <DataFieldForAction Label="${upload}" Action="UploadAction" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>
        <Property Name="otherData" FileNamePath="contentName"/>
        <Action Name="UploadAction" IsBound="true" OfbizService="com.banfftech.events.UploadEvent.uploadFile" >
            <Parameter Name="partyMediaResource" Type="PartyMediaResource" Nullable="false" IsCollection="true"/>
            <Parameter Name="file" Type="Stream" Nullable="false" IsCollection="false"/>
        </Action>
    </EntityType>

    <!--======================================DDForm问卷相关对象========================================-->
    <!--SurveyQuestionAppl-->
    <EntityType Name="SurveyQuestionAppl" AutoProperties="true" EntitySetName="SurveyQuestionAppls" AutoSet="true"
                Handler="component://officeauto/groovyScripts/partyManage/surveyQuestionAppl/generateEntityListFields.groovy">
        <Property Name="response" Type="String" Label="${response}"/>
        <LineItem Qualifier="SurveyQuestionApplLineItem">
            <DataField Values="SurveyQuestion/question,response" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="SurveyQuestion"/>
        <NavigationProperty Name="Survey"/>
        <NavigationProperty Name="SurveyQuestionAnswer" Type="SurveyQuestionAnswer" Relations="SurveyQuestion/SurveyQuestionAnswer" IsCollection="false"/>
    </EntityType>
    <!--SurveyQuestion-->
    <EntityType Name="SurveyQuestion" AutoSet="true" EntitySetName="SurveyQuestions" AutoProperties="true"/>
    <!--Survey-->
    <EntityType Name="Survey" AutoSet="true" EntitySetName="Surveys" AutoProperties="true"/>
    <!--SurveyQuestionAnswer-->
    <EntityType Name="SurveyQuestionAnswer" AutoSet="true" EntitySetName="SurveyQuestionAnswers" AutoProperties="true"/>

    <!--================================PurchaseQuote（报价）=======================================-->
    <!--PurchaseQuote（采购报价）-->
    <EntityType Name="PurchaseQuote" OfbizEntity="Quote" EntityCondition="quoteTypeId=PURCHASE_QUOTE" EntitySetName="PurchaseQuotes" AutoProperties="true" AutoSet="true"
                Handler="component://officeauto/groovyScripts/marketingSalesService/quote/generateEntityListFields.groovy">
        <LineItem>
            <DataField Values="quoteId,quoteName,partyId,custRequestId,salesChannelEnumId" Importance="High"/>
            <DataField Values="statusId" Criticality="statusColor" Importance="High"/>
            <Criticality Value="statusColor"/>
        </LineItem>

        <HeaderInfo TypeName="报价" TypeNamePlural="报价列表">
            <Title Path="quoteId"/>
            <Description Path="quoteName"/>
        </HeaderInfo>

        <FieldGroup Label="BaseInfo" Qualifier="BaseInfo">
            <DataField Values="partyId,salesChannelEnumId,custRequestId" Importance="High"/>
        </FieldGroup>

        <SelectionFields PropertyPath="quoteId,partyId,statusId"/>

        <Property Name="partyId" ExcludeFromNavigationContext="true"/>
        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="QuoteStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyId">
            <Text Path="SupplierParty/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="SupplierParties"/>
        </Property>
        <Property Name="statusColor"  Type="numeric" Hidden="true" HiddenFilter="true"/>

        <NavigationProperty Name="QuoteStatusItem" Type="QuoteStatusItem" Relations="StatusItem"/>
        <NavigationProperty Name="SalesChannelEnumeration"/>
        <NavigationProperty Name="SupplierParty" Type="SupplierParty" Relations="PartyGroupAndContact"/>
    </EntityType>

    <!--==================================评级相关对象==============================================-->
    <!--PartyClassification（评级主对象）-->
    <EntityType Name="PartyClassification" AutoSet="true" AutoProperties="true" EntitySetName="PartyClassIdentifications"
                Handler="component://officeauto/groovyScripts/partyManage/partyClassification/statusControl.groovy">
        <NavigationProperty Name="PartyClassificationGroup"/>

        <Property Name="statusColor" Type="numeric" Hidden="true" HiddenFilter="true"/>
    </EntityType>
    <!--PartyClassificationGroup（评级组）-->
    <EntityType Name="PartyClassificationGroup" AutoSet="true" AutoProperties="true" EntitySetName="PartyClassificationGroups">
        <NavigationProperty Name="PartyClassificationType"/>

        <Property Name="partyClassificationTypeId">
            <Text Path="PartyClassificationType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyClassificationGroupId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--PartyClassificationType（评级类型）-->
    <EntityType Name="PartyClassificationType" EntityCondition="partyClassificationTypeId in (VALUE_RATING,RISQUE_RATING)" AutoSet="true" AutoProperties="true" EntitySetName="PartyClassificationTypes">
        <Property Name="partyClassificationTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!--==================================售后服务相关对象==============================================-->
    <!--AfterSalesService（售后服务）-->
    <EntityType Name="AfterSalesService" OfbizEntity="WorkEffort" EntityCondition="workEffortTypeId=AFTER_SALES" AutoProperties="true" EntitySetName="AfterSalesServices">
        <LineItem Qualifier="AfterSalesServiceLine">
            <DataField Values="workEffortId,workEffortName,actualCompletionDate,fixedAssetId,description" Importance="High"/>
        </LineItem>
        <NavigationProperty Name="FixedAsset"/>
        <Property Name="fixedAssetId">
            <Text Path="FixedAsset/fixedAssetName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--FixedAsset（设备）-->
    <EntityType Name="FixedAsset" EntitySetName="FixedAssets" AutoProperties="true" AutoSet="true"/>

    <!--==================================采购发票==============================================-->
    <!--Invoice（发票）-->
    <EntityType Name="Invoice" EntitySetName="Invoices" AutoSet="true" AutoProperties="true"
                Handler="component://officeauto/groovyScripts/invoiceManage/invoiceHeader/generateEntityListFields.groovy">
        <Property Name="statusColor"  Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="invoiceTypeId">
            <Text Path="InvoiceType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="statusId">
            <Text Path="InvoiceStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="partyIdFrom">
            <Text Path="FromParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <LineItem>
            <DataField Values="invoiceId" Importance="High"/>
            <DataField Values="statusId" Criticality="statusColor" Importance="High"/>
            <DataField Values="partyIdFrom,invoiceDate,description,orderId" Importance="High"/>
            <Criticality Value="statusColor"/>
        </LineItem>
        <NavigationProperty Name="InvoiceType" AutoBinding="true"/>
        <NavigationProperty Name="InvoiceStatusItem" Type="InvoiceStatusItem" Relations="StatusItem" AutoBinding="true"  />
        <NavigationProperty Name="Party" AutoBinding="true" />
        <NavigationProperty Name="FromParty" AutoBinding="true"/>
    </EntityType>
    <!--InvoiceType（发票类型）-->
    <EntityType Name="InvoiceType" AutoProperties="true" AutoSet="true" EntitySetName="InvoiceTypes"/>

    <!--==================================笔记备注==============================================-->
    <EntityType Name="NoteData" Orderby="-noteDateTime" EntitySetName="NoteData" AutoSet="true" AutoProperties="true">
        <Property Name="noteParty">
            <Text Path="NoteParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <LineItem Qualifier="NoteDataLineItem">
            <DataField Values="noteName,noteInfo,noteParty,noteDateTime" Importance="High"/>
            <DataFieldForAction Label="${create}" Action="CreateNoteData" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>
        <LineItem Qualifier="NoteDataLineItemWithoutAction">
            <DataField Values="noteName,noteInfo,noteParty,noteDateTime" Importance="High"/>
        </LineItem>
        <Action Name="CreateNoteData" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createNoteData" SideEffects="true">
            <Parameter Name="noteData" Type="NoteData" Nullable="false" IsCollection="true"/>
            <Parameter Name="noteName" Type="String" Label="${noteName}" Nullable="false"/>
            <Parameter Name="noteInfo" Type="String" Label="${noteInfo}" Nullable="false"/>
            <ReturnType Type="NoteData"/>
        </Action>
        <NavigationProperty Name="NoteParty" Relations="NoteParty" Type="Party"/>
    </EntityType>

    <!--==================================采购合同相关对象==============================================-->
    <!--PurchaseAgreement（采购合同）-->
    <EntityType Name="PurchaseAgreement" EntitySetName="PurchaseAgreements" AutoSet="true" EntityCondition="agreementTypeId=PURCHASE_AGREEMENT" AutoProperties="true" OfbizEntity="Agreement">
        <LineItem Qualifier="PurchaseAgreementLineItem">
            <DataField Values="productId,description,agreementDate,fromDate,thruDate" Importance="High"/>
        </LineItem>
        <SelectionFields PropertyPath="productId,partyIdFrom,partyIdTo"/>
        <HeaderInfo TypeName="合同">
            <Title Path="agreementId"/>
            <Description Path="description"/>
        </HeaderInfo>
        <FieldGroup Qualifier="BaseInfo" Label="BaseInfo">
            <DataField Values="productId,partyIdFrom" Importance="High"/>
        </FieldGroup>
        <FieldGroup Qualifier="AgreementTime" Label="AgreementTime">
            <DataField Values="agreementDate,fromDate,thruDate" Importance="High"/>
        </FieldGroup>

        <Property Name="partyIdFrom">
            <Text Path="Company/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="Companies" ParameterDisplayOnly="PartyAndContact/primaryPhone"/>
        </Property>
        <Property Name="partyIdTo">
            <Text Path="Supplier/partyName" TextArrangement="TextOnly"/>
            <ValueList CollectionPath="Suppliers" ParameterDisplayOnly="PartyAndContact/primaryPhone"/>
        </Property>
        <Property Name="productId">
            <Text Path="Product/productName" TextArrangement="TextOnly"/>
        </Property>

        <NavigationProperty Name="Product"/>
        <NavigationProperty Name="SupplierParty" Type="SupplierParty" Relations="ToPartyGroupAndContact"/>
        <NavigationProperty Name="Company" Type="Company" Relations="FromPartyGroupAndContact"/>
        <NavigationProperty Name="AgreementTerm"/>
    </EntityType>
    <!--AgreementTerm（合同条款）-->
    <EntityType Name="AgreementTerm" EntitySetName="AgreementTerms" AutoSet="true" AutoProperties="true">
        <LineItem Qualifier="AgreementTermLineItem">
            <DataField Values="agreementTermId,agreementItemSeqId,termTypeId,termValue,termDays,maxQuantity,minQuantity,description,fromDate,thruDate" Importance="High"/>
        </LineItem>

        <Property Name="termTypeId">
            <Text Path="TermType/description" TextArrangement="TextOnly"/>
        </Property>

        <NavigationProperty Name="TermType"/>
    </EntityType>
    <!--TermType（条款类型）-->
    <EntityType Name="TermType" AutoProperties="true" AutoSet="true" EntitySetName="TermTypes">
        <Property Name="termTypeId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!--==================================采购订单相关对象==============================================-->
    <EntityType Name="PurchaseOrder" OfbizEntity="OrderHeader" EntityCondition="orderTypeId=PURCHASE_ORDER" AutoProperties="true" AutoSet="true" EntitySetName="PurchaseOrders"
                Handler="component://officeauto/groovyScripts/purchaseOrderMange/OrderHeader/generateEntityListFields.groovy">
        <NavigationProperty Name="OrderStatusItem" Type="OrderStatusItem" Relations="StatusItem"/>
        <NavigationProperty Name="SalesChannelEnumeration"/>

        <Property Name="orderHeaderStatus" Type="Edm.Int64"/>
        <Property Name="amountPaid" Type="BigDecimal" Scale="3" />
        <Property Name="receivedQuantity" Type="BigDecimal" Scale="2"/>
        <Property Name="targetQuantity" Type="BigDecimal" Scale="2"/>
        <Property Name="donutChartCriticalValue" Type="Edm.Int64"/>
        <Property Name="statusId">
            <Text Path="OrderStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="salesChannelEnumId">
            <Text Path="SalesChannelEnumeration/description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!--==================================供应商相关对象==============================================-->
    <!--SupplierProduct（供应商）-->
    <EntityType Name="SupplierProduct" AutoSet="true" EntitySetName="SupplierProducts" AutoProperties="true">
        <Property Name="minimumOrderQuantity" DefaultValue="1" Computed="true"/>
        <Property Name="currencyUomId" DefaultValue="CNY" Computed="true"/>
        <Property Name="partyId" Computed="true"/>
        <Property Name="availableFromDate" Computed="true"/>
        <NavigationProperty Name="Product"/>
        <NavigationProperty Name="CurrencyUom"/>
        <NavigationProperty Name="Uom" Relations="Product/QuantityUom" Type="Uom" AutoBinding="true"/>
    </EntityType>
    <!--Product（产品）-->
    <EntityType Name="Product" EntitySetName="Products" AutoSet="true" AutoProperties="true" OfbizType="productTypeId=FINISHED_GOOD">
        <Property Name="productTypeId" >
            <Text Path="ProductType/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="quantityUomId" Immutable="true">
            <Text Path="QuantityUom/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="productName" Immutable="true"/>
        <NavigationProperty Name="ProductType"/>
        <NavigationProperty Name="QuantityUom"/>
        <LineItem Qualifier="SupplierProductLineItem">
            <DataField Values="productName,quantityUomId,primaryProductCategoryId" Importance="High" />
            <DataFieldForAction Label="${create}" Action="CreateSupplierProduct" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>
        <LineItem Qualifier="SupplierProductLineItemWithoutAction">
            <DataField Values="productName,quantityUomId,primaryProductCategoryId" Importance="High" />
        </LineItem>
        <Action Name="CreateSupplierProduct" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createSupplierProduct" SideEffects="true">
            <Parameter Name="product" Type="Product" Nullable="false" IsCollection="true"/>
            <Parameter Name="productId" Type="String" Label="${productId}" Nullable="false"/>
            <Parameter Name="primaryProductCategoryId" Type="String" Label="${primaryProductCategoryId}" Nullable="false">
                <ValueList CollectionPath="ProductCategories" WithFixedValues="true">
                    <ParameterInOut ValueListProperty="productCategoryId" LocalDataProperty="primaryProductCategoryId"/>
                </ValueList>
            </Parameter>
            <ReturnType Type="Product"/>
        </Action>
        <NavigationProperty Name="PrimaryProductCategory"/>
    </EntityType>
    <!--Service(服务)-->
    <EntityType Name="Service" OfbizEntity="Product" AutoProperties="true" EntityCondition="productTypeId=SERVICE" EntitySetName="Services">
        <LineItem Qualifier="SupplierProductLineItem">
            <DataField Values="productName,primaryProductCategoryId" Importance="High" />
            <DataFieldForAction Label="${create}" Action="CreateSupplierService" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>
        <LineItem Qualifier="SupplierProductLineItemWithoutAction">
            <DataField Values="productName,primaryProductCategoryId" Importance="High" />
        </LineItem>
        <Action Name="CreateSupplierService" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createSupplierProduct" SideEffects="true">
            <Parameter Name="service" Type="Service" Nullable="false" IsCollection="true"/>
            <Parameter Name="productId" Type="String" Label="${productId}" Nullable="false"/>
            <Parameter Name="primaryProductCategoryId" Type="String" Label="${primaryProductCategoryId}" Nullable="false">
                <ValueList CollectionPath="ProductCategories" WithFixedValues="true">
                    <ParameterInOut ValueListProperty="productCategoryId" LocalDataProperty="primaryProductCategoryId"/>
                </ValueList>
            </Parameter>
            <ReturnType Type="Service"/>
        </Action>
        <NavigationProperty Name="PrimaryProductCategory"/>
    </EntityType>
    <!--RawMaterialProduct（原料）-->
    <EntityType Name="RawMaterialProduct" EntitySetName="RawMaterialProducts" AutoSet="true" OfbizEntity="Product"
                EntityCondition="productTypeId=RAW_MATERIAL" AutoProperties="true">
        <Property Name="productId" Label="产品ID">
            <Text Path="productName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="QuantityUom" AutoBinding="true"/>
    </EntityType>
    <!--ProductType（产品类型）-->
    <EntityType Name="ProductType" AutoSet="true" EntitySetName="ProductTypes" AutoProperties="true"/>
    <!--ProductCategory（产品种类）-->
    <EntityType Name="ProductCategory" AutoSet="true" EntityCondition="productCategoryTypeId=SUPPLIER_CATEGORY" EntitySetName="ProductCategories" AutoProperties="true">
        <Property Name="productCategoryId">
            <Text Path="categoryName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!--==================================货运相关对象==============================================-->
    <!--Shipment（货运）-->
    <EntityType Name="Shipment" AutoProperties="true" AutoSet="true" EntitySetName="Shipments" AttrEntityName="ShipmentAttribute"
                Handler="component://officeauto/groovyScripts/partyManage/shipment/statusControl.groovy">
        <Property Name="receiveDate" Type="Timestamp" Precision="3" IsAttribute="true"/>
        <Property Name="statusId">
            <Text Path="ShipmentStatusItem/description" TextArrangement="TextOnly"/>
        </Property>
        <Property Name="shipmentStatus" Type="Edm.Int64"/>
        <Property Name="currencyUomId">
            <Text Path="CurrencyUom/description" TextArrangement="TextOnly"/>
        </Property>

        <LineItem Qualifier="ShipmentLineItem">
            <DataField Values="shipmentId,ShipmentItem/productId,ShipmentRouteSegment/carrierPartyId,primaryOrderId,estimatedShipDate,ShipmentRouteSegment/actualArrivalDate,SupplierParty/address1,CustomerParty/address1" Importance="High"/>
            <DataField Importance="High" Values="statusId" Criticality="shipmentStatus"/>
            <Criticality Value="shipmentStatus"/>
        </LineItem>

        <NavigationProperty Name="ShipmentItem"/>
        <NavigationProperty Name="SupplierParty" Relations="FromPartyGroupAndContact" Type="SupplierParty" ReadOnly="true" IsCollection="false"/>
        <NavigationProperty Name="CustomerParty" Relations="ToPartyGroupAndContact" Type="CustomerParty" ReadOnly="true" IsCollection="false"/>
        <NavigationProperty Name="ShipmentStatusItem" Type="ShipmentStatusItem" Relations="StatusItem"/>
        <NavigationProperty Name="CurrencyUom" AutoBinding="true"/>
        <NavigationProperty Name="ShipmentRouteSegment" AutoBinding="true"/>
    </EntityType>
    <!--ShipmentItem（货运项）-->
    <EntityType Name="ShipmentItem" AutoProperties="true" AutoSet="true" EntitySetName="ShipmentItems">
        <Property Name="productId">
            <Text Path="Product/productName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="Product"/>
    </EntityType>
    <!--ShipmentRouteSegment（货运节点）-->
    <EntityType Name="ShipmentRouteSegment" AutoProperties="true" AutoSet="true" EntitySetName="ShipmentRouteSegments">
        <Property Name="carrierPartyId">
            <Text Path="CarrierParty/partyName" TextArrangement="TextOnly"/>
        </Property>
        <NavigationProperty Name="CarrierParty" AutoBinding="true" IsCollection="false"/>
    </EntityType>

    <!--==================================账户相关对象==============================================-->
    <!--FinAccount（账户）-->
    <EntityType Name="FinAccount" AutoSet="true" EntitySetName="FinAccounts" AutoProperties="true" AttrEntityName="FinAccountAttribute" DraftEntityName="FinAccountAppDraft" >
        <Property Name="accountName" IsAttribute="true" Type="String"/>
        <Property Name="currencyUomId" >
            <Text Path="CurrencyUom/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="CurrencyUoms" WithFixedValues="true" />
        </Property>
        <Property Name="finAccountTypeId">
            <Text Path="FinAccountType/description" TextArrangement="TextLast" />
            <ValueList CollectionPath="FinAccountTypes" WithFixedValues="true" />
        </Property>
        <Property Name="statusId">
            <Text Path="AccountStatusItem/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="AccountStatusItems" WithFixedValues="true" />
        </Property>
        <Property Name="ownerPartyId">
            <Text Path="OwnerParty/partyName" TextArrangement="TextOnly"/>
        </Property>

        <Action Name="CreateFinAccount" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createFinAccount" SideEffects="true">
            <Parameter Name="finAccount" Type="FinAccount" Nullable="false" IsCollection="true"/>
            <Parameter Name="finAccountName" Type="String" Label="${finAccountName}" Nullable="false"/>
            <Parameter Name="finAccountCode" Type="String" Label="${finAccountCode}" Nullable="false"/>
            <Parameter Name="currencyUomId" Type="String" Label="${currencyUomId}" Nullable="false">
                <ValueList CollectionPath="CurrencyUnm" WithFixedValues="true">
                    <ParameterInOut ValueListProperty="uomId" LocalDataProperty="currencyUomId"/>
                </ValueList>
            </Parameter>
            <ReturnType Type="NoteData"/>
        </Action>
        <NavigationProperty Name="AccountStatusItem" Type="AccountStatusItem" Relations="StatusItem" AutoBinding="true" />
        <NavigationProperty Name="FinAccountType" AutoBinding="true" />
        <NavigationProperty Name="CurrencyUom" Type="CurrencyUom" Relations="CurrencyUom"/>
        <NavigationProperty Name="OwnerParty"/>
    </EntityType>
    <!--FinAccountType（账户类型）-->
    <EntityType Name="FinAccountType" EntitySetName="FinAccountTypes" AutoSet="true" AutoProperties="true" />

    <!--==================================Party相关对象==============================================-->
    <!--Party-->
    <EntityType Name="Party" EntitySetName="Parties" AutoSet="true" AutoProperties="true"/>
    <!--Company（公司）-->
    <EntityType Name="Company" OfbizEntity="PartyGroupAndContact" AutoProperties="true" EntityCondition="PartyRole/roleTypeId=INTERNAL_ORGANIZATIO" EntitySetName="Companies" AutoSet="true">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <EntityType Name="Department" OfbizEntity="PartyGroupAndContact" AutoProperties="true" EntityCondition="PartyRole/roleTypeId=DEPARTMENT" EntitySetName="Departments" AutoSet="true">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>

        <LineItem Qualifier="DepartmentLineItem">
            <DataField Values="partyName," Importance="High"/>
            <DataFieldForAction Label="${selectDepartment}" Action="SelectDepartment" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
            <DataFieldForAction Label="${removeDepartment}" Action="RemoveDepartment" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>

        <!--选择可以查看该供应商的部门-->
        <Action Name="SelectDepartment" IsBound="true" EntitySetPath="department"
                OfbizService="com.banfftech.events.SupplierEvents.selectDepartment"
                StickySession="true" SideEffects="true">
            <Parameter Name="department" Type="Department" Nullable="false" IsCollection="true"/>
            <Parameter Name="partyId" Type="String" Nullable="false" IsCollection="true" Label="${selectDepartment}">
                <ValueList CollectionPath="Departments" ParameterDisplayOnly="primaryPhone,primaryEmail">
                    <ParameterInOut LocalDataProperty="partyId" ValueListProperty="partyId"/>
                </ValueList>
            </Parameter>
        </Action>
        <!--移除可以查看该供应商的部门-->
        <Action Name="RemoveDepartment" IsBound="true" EntitySetPath="department"
                OfbizService="com.banfftech.events.SupplierEvents.removeDepartment"
                StickySession="true">
            <Parameter Name="department" Type="Department" Nullable="false" IsCollection="false"/>
        </Action>
    </EntityType>
    <!--CustomerParty（客户）-->
    <EntityType Name="CustomerParty" OfbizEntity="PartyGroupAndContact" AutoSet="true" EntitySetName="CustomerParties" EntityCondition="PartyRole/roleTypeId=CUSTOMER"
                Properties="partyId,partyName,description,createdDate,createdByUserLogin">
        <Property Name="partyId">
            <Text Path="partyName" TextArrangement="TextOnly"/>
        </Property>

        <Property Name="criticalityValue" Type="numeric" Hidden="true" HiddenFilter="true"/>
        <Property Name="usccNumber" Type="String" HiddenFilter="true"/>
        <NavigationProperty Name="ToShipment"/>
        <NavigationProperty Name="FromShipment"/>
        <NavigationProperty Name="OwnerFinAccount" Type="FinAccount" IsCollection="true"
                            Relations="OwnerFinAccount(finAccountTypeId=BANK_ACCOUNT)" />
    </EntityType>
    <!--PersonAndContact（联系人）-->
    <EntityType Name="PersonAndContact" AttrEntityName="PartyAttribute" AutoProperties="true" AutoLabel="true"
                AutoSet="true" EntitySetName="PersonAndContacts">
        <Property Name="position" IsAttribute="true" Type="String"/>

        <LineItem Qualifier="PartyRelationshipLineItem">
            <DataField Values="partyName,primaryPhone,phoneMobile,primaryEmail,position" Importance="High"/>
            <DataFieldForAction Label="${create}" Action="CreatePersonAndContact" Importance="High" Criticality="Positive" Inline="false" InvocationGrouping="Isolated"/>
        </LineItem>
        <LineItem Qualifier="PartyRelationshipLineItemWithoutAction">
            <DataField Values="partyName,primaryPhone,phoneMobile,primaryEmail,position" Importance="High"/>
        </LineItem>

        <Action Name="CreatePersonAndContact" IsBound="true" OfbizService="com.banfftech.events.SupplierEvents.createPersonAndContact">
            <Parameter Name="personAndContact" Type="PersonAndContact" Nullable="false" IsCollection="true"/>
            <Parameter Name="partyName" Type="String" Label="${partyName}" Nullable="false"/>
            <Parameter Name="primaryPhone" Type="String" Label="${phone}" Nullable="true"/>
            <Parameter Name="phoneMobile" Type="String" Label="${mobile}" Nullable="false"/>
            <Parameter Name="primaryEmail" Type="String" Label="${email}" Nullable="true"/>
            <Parameter Name="position" Type="String" Label="${position}" Nullable="true"/>
            <ReturnType Type="PersonAndContact"/>
        </Action>
    </EntityType>

    <!--==================================不同对象状态==============================================-->
    <!--StatusItem（只展示TextOnly时使用）-->
    <EntityType Name="StatusItem" AutoProperties="true" EntitySetName="StatusItems">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--SupplierStatusItem（供应商状态）-->
    <EntityType Name="SupplierStatusItem" OfbizEntity="StatusItem" AutoSet="true" EntitySetName="SupplierStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--ShipmentStatusItem（货运状态）-->
    <EntityType Name="ShipmentStatusItem" OfbizEntity="StatusItem" AutoSet="true" EntitySetName="ShipmentStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--AccountStatusItem（账户状态）-->
    <EntityType Name="AccountStatusItem" OfbizEntity="StatusItem" AutoSet="true" EntitySetName="AccountStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--OrderStatusItem（订单状态）-->
    <EntityType Name="OrderStatusItem" OfbizEntity="StatusItem" AutoSet="true" EntitySetName="OrderStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--InvoiceStatusItem（发票状态）-->
    <EntityType Name="InvoiceStatusItem" OfbizEntity="StatusItem" AutoSet="true" EntitySetName="InvoiceStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
    <!--QuoteStatusItem（报价状态）-->
    <EntityType Name="QuoteStatusItem" OfbizEntity="StatusItem" AutoSet="true" EntitySetName="QuoteStatusItems" AutoProperties="true">
        <Property Name="statusId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <!--==================================单位相关对象==============================================-->
    <!--UomType（单位类型）-->
    <EntityType Name="UomType" AutoSet="true" EntitySetName="UomTypes" AutoProperties="true" >
        <Property Name="uomTypeId" >
            <Text Path="description" TextArrangement="TextOnly" />
        </Property>
    </EntityType>
    <!--Uom（单位）-->
    <EntityType Name="Uom" AutoProperties="true" AutoSet="true" EntitySetName="Unm" >
        <Property Name="uomId">
            <Text Path="description" TextArrangement="TextLast" />
        </Property>

        <Property Name="uomTypeId" >
            <Text Path="UomType/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="UomTypes" WithFixedValues="true" />
        </Property>

        <NavigationProperty Name="UomType" AutoBinding="true" />
    </EntityType>
    <!--CurrencyUom（货币单位）-->
    <EntityType Name="CurrencyUom" OfbizEntity="Uom" AutoProperties="true" EntitySetName="CurrencyUnm" OfbizType="uomTypeId=CURRENCY_MEASURE">
        <Property Name="uomId">
            <Text Path="description" TextArrangement="TextLast" />
        </Property>

        <Property Name="uomTypeId" >
            <Text Path="UomType/description" TextArrangement="TextOnly" />
            <ValueList CollectionPath="UomTypes" WithFixedValues="true" />
        </Property>

        <NavigationProperty Name="UomType" AutoBinding="true" />
    </EntityType>

    <!--==================================枚举类型对象==============================================-->
    <EntityType Name="Enumeration" EntitySetName="OrderSalesEnumerations" EntityCondition="enumTypeId=ORDER_NEW_SALES_CHANNEL" AutoProperties="true">
        <ValueList CollectionPath="OrderSalesEnumerations" WithFixedValues="true" Label="选择销售渠道"/>
        <Property Name="enumId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>

    <EntityType Name="PriorityEnumeration" EntitySetName="PriorityEnumerations" OfbizEntity="Enumeration" EntityCondition="enumTypeId=PRIORITY" AutoProperties="true">
        <Property Name="enumId">
            <Text Path="description" TextArrangement="TextOnly"/>
        </Property>
    </EntityType>
</ofbiz-edm>
